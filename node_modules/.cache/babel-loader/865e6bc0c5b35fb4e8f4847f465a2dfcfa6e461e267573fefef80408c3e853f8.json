{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DeadClickConfig = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst AutoCaptureEvent_1 = require(\"./AutoCaptureEvent\");\nconst commonUtils_1 = require(\"./utils/commonUtils\");\nconst eventUtils_1 = require(\"./utils/eventUtils\");\nconst metadataUtils_1 = require(\"./utils/metadataUtils\");\nexports.DeadClickConfig = {\n  CLICK_CHECK_TIMEOUT: 1000,\n  SCROLL_DELAY_MS: 100,\n  SELECTION_CHANGE_DELAY_MS: 100,\n  MUTATION_DELAY_MS: 2500,\n  ABSOLUTE_DEAD_CLICK_TIMEOUT: 2750\n};\n// A dead click is a click that fires an event but produces no meaningful change within a set timeframe.\nclass DeadClickManager {\n  constructor(_enqueueFn, _errorBoundary) {\n    this._enqueueFn = _enqueueFn;\n    this._errorBoundary = _errorBoundary;\n    this._lastMutationTime = 0;\n    this._lastSelectionChangeTime = 0;\n    this._clicks = [];\n    this._deadClickConfig = exports.DeadClickConfig;\n    this._handleScroll = (0, commonUtils_1.throttle)(() => {\n      const scrollTime = Date.now();\n      this._clicks.forEach(click => {\n        if (!click.scrollDelayMs) {\n          click.scrollDelayMs = scrollTime - click.timestamp;\n        }\n      });\n    }, 50);\n  }\n  startTracking() {\n    try {\n      const win = (0, client_core_1._getWindowSafe)();\n      if (!win) {\n        return;\n      }\n      // `capture: true` - Needed to listen to scroll events on all scrollable elements, not just the window.\n      // docs: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#usecapture\n      //\n      // `passive: true` - Indicates the scroll handler won’t call preventDefault(),\n      // allowing the browser to optimize scrolling performance by not blocking it.\n      // docs: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#passive\n      win.addEventListener('click', event => this._handleClick(event), {\n        capture: true\n      });\n      win.addEventListener('scroll', () => this._handleScroll(), {\n        capture: true,\n        passive: true\n      });\n      win.addEventListener('selectionchange', () => this._handleSelectionChange());\n      this._setupMutationObserver();\n    } catch (error) {\n      client_core_1.Log.error('Error starting dead click tracking', error);\n      this._errorBoundary.logError('autoCapture:DeadClickManager', error);\n    }\n  }\n  _handleClick(event) {\n    var _a, _b;\n    const eventTarget = event.target;\n    if (!eventTarget) {\n      return;\n    }\n    const click = {\n      timestamp: Date.now(),\n      eventTarget\n    };\n    if (!commonUtils_1.interactiveElements.includes((_a = eventTarget === null || eventTarget === void 0 ? void 0 : eventTarget.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase())) {\n      this._clicks.push(click);\n    }\n    if (this._clicks.length && !this._clickCheckTimer) {\n      this._clickCheckTimer = (_b = (0, client_core_1._getWindowSafe)()) === null || _b === void 0 ? void 0 : _b.setTimeout(() => {\n        this._checkForDeadClick();\n      }, this._deadClickConfig.CLICK_CHECK_TIMEOUT);\n    }\n  }\n  _handleSelectionChange() {\n    this._lastSelectionChangeTime = Date.now();\n  }\n  _setupMutationObserver() {\n    const doc = (0, client_core_1._getDocumentSafe)();\n    if (!doc) {\n      return;\n    }\n    this._observer = new MutationObserver(() => {\n      this._lastMutationTime = Date.now();\n    });\n    this._observer.observe(doc.body, {\n      childList: true,\n      subtree: true,\n      attributes: true,\n      characterData: true\n    });\n  }\n  _checkForDeadClick() {\n    var _a;\n    if (!this._clicks.length) {\n      return;\n    }\n    clearTimeout(this._clickCheckTimer);\n    this._clickCheckTimer = undefined;\n    const clicksToCheck = this._clicks;\n    this._clicks = [];\n    for (const click of clicksToCheck) {\n      this._updateClickDelayMs(click);\n      const hadScroll = click.scrollDelayMs != null && click.scrollDelayMs < this._deadClickConfig.SCROLL_DELAY_MS;\n      const hadSelectionChange = click.selectionChangeDelayMs != null && click.selectionChangeDelayMs < this._deadClickConfig.SELECTION_CHANGE_DELAY_MS;\n      const hadMutation = click.mutationDelayMs != null && click.mutationDelayMs < this._deadClickConfig.MUTATION_DELAY_MS;\n      if (hadScroll || hadSelectionChange || hadMutation) {\n        continue;\n      }\n      const scrollTimeout = click.scrollDelayMs != null && click.scrollDelayMs > this._deadClickConfig.SCROLL_DELAY_MS;\n      const selectionChangeTimeout = click.selectionChangeDelayMs != null && click.selectionChangeDelayMs > this._deadClickConfig.SELECTION_CHANGE_DELAY_MS;\n      const mutationTimeout = click.mutationDelayMs != null && click.mutationDelayMs > this._deadClickConfig.MUTATION_DELAY_MS;\n      const absoluteTimeout = click.absoluteDelayMs != null && click.absoluteDelayMs > this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;\n      if (scrollTimeout || selectionChangeTimeout || mutationTimeout || absoluteTimeout) {\n        this._logDeadClick(click, {\n          scrollTimeout,\n          selectionChangeTimeout,\n          mutationTimeout,\n          absoluteTimeout\n        });\n      } else if (click.absoluteDelayMs != null && click.absoluteDelayMs < this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT) {\n        this._clicks.push(click);\n      }\n    }\n    if (this._clicks.length && !this._clickCheckTimer) {\n      this._clickCheckTimer = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.setTimeout(() => {\n        this._checkForDeadClick();\n      }, this._deadClickConfig.CLICK_CHECK_TIMEOUT);\n    }\n  }\n  _logDeadClick(click, extraMetadata) {\n    const {\n      value,\n      metadata\n    } = (0, eventUtils_1._gatherEventData)(click.eventTarget);\n    if (!value) {\n      return;\n    }\n    this._enqueueFn(AutoCaptureEvent_1.AutoCaptureEventName.DEAD_CLICK, value, Object.assign(Object.assign(Object.assign(Object.assign({}, metadata), extraMetadata), (0, metadataUtils_1._gatherCommonMetadata)((0, commonUtils_1._getSafeUrl)())), {\n      scrollDelayMs: click.scrollDelayMs,\n      selectionChangeDelayMs: click.selectionChangeDelayMs,\n      mutationDelayMs: click.mutationDelayMs,\n      absoluteDelayMs: click.absoluteDelayMs\n    }));\n  }\n  _updateClickDelayMs(click) {\n    if (!click.mutationDelayMs && this._lastMutationTime > 0 && click.timestamp <= this._lastMutationTime) {\n      click.mutationDelayMs = Date.now() - this._lastMutationTime;\n    }\n    if (!click.selectionChangeDelayMs && this._lastSelectionChangeTime > 0 && click.timestamp <= this._lastSelectionChangeTime) {\n      click.selectionChangeDelayMs = Date.now() - this._lastSelectionChangeTime;\n    }\n    click.absoluteDelayMs = Date.now() - click.timestamp;\n  }\n}\nexports.default = DeadClickManager;","map":{"version":3,"names":["Object","defineProperty","exports","value","DeadClickConfig","client_core_1","require","AutoCaptureEvent_1","commonUtils_1","eventUtils_1","metadataUtils_1","CLICK_CHECK_TIMEOUT","SCROLL_DELAY_MS","SELECTION_CHANGE_DELAY_MS","MUTATION_DELAY_MS","ABSOLUTE_DEAD_CLICK_TIMEOUT","DeadClickManager","constructor","_enqueueFn","_errorBoundary","_lastMutationTime","_lastSelectionChangeTime","_clicks","_deadClickConfig","_handleScroll","throttle","scrollTime","Date","now","forEach","click","scrollDelayMs","timestamp","startTracking","win","_getWindowSafe","addEventListener","event","_handleClick","capture","passive","_handleSelectionChange","_setupMutationObserver","error","Log","logError","_a","_b","eventTarget","target","interactiveElements","includes","tagName","toLowerCase","push","length","_clickCheckTimer","setTimeout","_checkForDeadClick","doc","_getDocumentSafe","_observer","MutationObserver","observe","body","childList","subtree","attributes","characterData","clearTimeout","undefined","clicksToCheck","_updateClickDelayMs","hadScroll","hadSelectionChange","selectionChangeDelayMs","hadMutation","mutationDelayMs","scrollTimeout","selectionChangeTimeout","mutationTimeout","absoluteTimeout","absoluteDelayMs","_logDeadClick","extraMetadata","metadata","_gatherEventData","AutoCaptureEventName","DEAD_CLICK","assign","_gatherCommonMetadata","_getSafeUrl","default"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/web-analytics/src/DeadClickManager.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeadClickConfig = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst AutoCaptureEvent_1 = require(\"./AutoCaptureEvent\");\nconst commonUtils_1 = require(\"./utils/commonUtils\");\nconst eventUtils_1 = require(\"./utils/eventUtils\");\nconst metadataUtils_1 = require(\"./utils/metadataUtils\");\nexports.DeadClickConfig = {\n    CLICK_CHECK_TIMEOUT: 1000,\n    SCROLL_DELAY_MS: 100,\n    SELECTION_CHANGE_DELAY_MS: 100,\n    MUTATION_DELAY_MS: 2500,\n    ABSOLUTE_DEAD_CLICK_TIMEOUT: 2750,\n};\n// A dead click is a click that fires an event but produces no meaningful change within a set timeframe.\nclass DeadClickManager {\n    constructor(_enqueueFn, _errorBoundary) {\n        this._enqueueFn = _enqueueFn;\n        this._errorBoundary = _errorBoundary;\n        this._lastMutationTime = 0;\n        this._lastSelectionChangeTime = 0;\n        this._clicks = [];\n        this._deadClickConfig = exports.DeadClickConfig;\n        this._handleScroll = (0, commonUtils_1.throttle)(() => {\n            const scrollTime = Date.now();\n            this._clicks.forEach((click) => {\n                if (!click.scrollDelayMs) {\n                    click.scrollDelayMs = scrollTime - click.timestamp;\n                }\n            });\n        }, 50);\n    }\n    startTracking() {\n        try {\n            const win = (0, client_core_1._getWindowSafe)();\n            if (!win) {\n                return;\n            }\n            // `capture: true` - Needed to listen to scroll events on all scrollable elements, not just the window.\n            // docs: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#usecapture\n            //\n            // `passive: true` - Indicates the scroll handler won’t call preventDefault(),\n            // allowing the browser to optimize scrolling performance by not blocking it.\n            // docs: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#passive\n            win.addEventListener('click', (event) => this._handleClick(event), {\n                capture: true,\n            });\n            win.addEventListener('scroll', () => this._handleScroll(), {\n                capture: true,\n                passive: true,\n            });\n            win.addEventListener('selectionchange', () => this._handleSelectionChange());\n            this._setupMutationObserver();\n        }\n        catch (error) {\n            client_core_1.Log.error('Error starting dead click tracking', error);\n            this._errorBoundary.logError('autoCapture:DeadClickManager', error);\n        }\n    }\n    _handleClick(event) {\n        var _a, _b;\n        const eventTarget = event.target;\n        if (!eventTarget) {\n            return;\n        }\n        const click = {\n            timestamp: Date.now(),\n            eventTarget,\n        };\n        if (!commonUtils_1.interactiveElements.includes((_a = eventTarget === null || eventTarget === void 0 ? void 0 : eventTarget.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase())) {\n            this._clicks.push(click);\n        }\n        if (this._clicks.length && !this._clickCheckTimer) {\n            this._clickCheckTimer = (_b = (0, client_core_1._getWindowSafe)()) === null || _b === void 0 ? void 0 : _b.setTimeout(() => {\n                this._checkForDeadClick();\n            }, this._deadClickConfig.CLICK_CHECK_TIMEOUT);\n        }\n    }\n    _handleSelectionChange() {\n        this._lastSelectionChangeTime = Date.now();\n    }\n    _setupMutationObserver() {\n        const doc = (0, client_core_1._getDocumentSafe)();\n        if (!doc) {\n            return;\n        }\n        this._observer = new MutationObserver(() => {\n            this._lastMutationTime = Date.now();\n        });\n        this._observer.observe(doc.body, {\n            childList: true,\n            subtree: true,\n            attributes: true,\n            characterData: true,\n        });\n    }\n    _checkForDeadClick() {\n        var _a;\n        if (!this._clicks.length) {\n            return;\n        }\n        clearTimeout(this._clickCheckTimer);\n        this._clickCheckTimer = undefined;\n        const clicksToCheck = this._clicks;\n        this._clicks = [];\n        for (const click of clicksToCheck) {\n            this._updateClickDelayMs(click);\n            const hadScroll = click.scrollDelayMs != null &&\n                click.scrollDelayMs < this._deadClickConfig.SCROLL_DELAY_MS;\n            const hadSelectionChange = click.selectionChangeDelayMs != null &&\n                click.selectionChangeDelayMs <\n                    this._deadClickConfig.SELECTION_CHANGE_DELAY_MS;\n            const hadMutation = click.mutationDelayMs != null &&\n                click.mutationDelayMs < this._deadClickConfig.MUTATION_DELAY_MS;\n            if (hadScroll || hadSelectionChange || hadMutation) {\n                continue;\n            }\n            const scrollTimeout = click.scrollDelayMs != null &&\n                click.scrollDelayMs > this._deadClickConfig.SCROLL_DELAY_MS;\n            const selectionChangeTimeout = click.selectionChangeDelayMs != null &&\n                click.selectionChangeDelayMs >\n                    this._deadClickConfig.SELECTION_CHANGE_DELAY_MS;\n            const mutationTimeout = click.mutationDelayMs != null &&\n                click.mutationDelayMs > this._deadClickConfig.MUTATION_DELAY_MS;\n            const absoluteTimeout = click.absoluteDelayMs != null &&\n                click.absoluteDelayMs >\n                    this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT;\n            if (scrollTimeout ||\n                selectionChangeTimeout ||\n                mutationTimeout ||\n                absoluteTimeout) {\n                this._logDeadClick(click, {\n                    scrollTimeout,\n                    selectionChangeTimeout,\n                    mutationTimeout,\n                    absoluteTimeout,\n                });\n            }\n            else if (click.absoluteDelayMs != null &&\n                click.absoluteDelayMs <\n                    this._deadClickConfig.ABSOLUTE_DEAD_CLICK_TIMEOUT) {\n                this._clicks.push(click);\n            }\n        }\n        if (this._clicks.length && !this._clickCheckTimer) {\n            this._clickCheckTimer = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.setTimeout(() => {\n                this._checkForDeadClick();\n            }, this._deadClickConfig.CLICK_CHECK_TIMEOUT);\n        }\n    }\n    _logDeadClick(click, extraMetadata) {\n        const { value, metadata } = (0, eventUtils_1._gatherEventData)(click.eventTarget);\n        if (!value) {\n            return;\n        }\n        this._enqueueFn(AutoCaptureEvent_1.AutoCaptureEventName.DEAD_CLICK, value, Object.assign(Object.assign(Object.assign(Object.assign({}, metadata), extraMetadata), (0, metadataUtils_1._gatherCommonMetadata)((0, commonUtils_1._getSafeUrl)())), { scrollDelayMs: click.scrollDelayMs, selectionChangeDelayMs: click.selectionChangeDelayMs, mutationDelayMs: click.mutationDelayMs, absoluteDelayMs: click.absoluteDelayMs }));\n    }\n    _updateClickDelayMs(click) {\n        if (!click.mutationDelayMs &&\n            this._lastMutationTime > 0 &&\n            click.timestamp <= this._lastMutationTime) {\n            click.mutationDelayMs = Date.now() - this._lastMutationTime;\n        }\n        if (!click.selectionChangeDelayMs &&\n            this._lastSelectionChangeTime > 0 &&\n            click.timestamp <= this._lastSelectionChangeTime) {\n            click.selectionChangeDelayMs = Date.now() - this._lastSelectionChangeTime;\n        }\n        click.absoluteDelayMs = Date.now() - click.timestamp;\n    }\n}\nexports.default = DeadClickManager;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}