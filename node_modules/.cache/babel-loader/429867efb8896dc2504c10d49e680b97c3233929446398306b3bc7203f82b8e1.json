{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._appendSlicedMetadata = exports._slicePayload = exports._makeLoggableRrwebEvent = exports.MAX_LOGS = exports.MAX_INDIVIDUAL_EVENT_BYTES = exports.REPLAY_ENQUEUE_TRIGGER_BYTES = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst REPLAY_SLICE_BYTES = 1024 * 1024; // 1 MB\nexports.REPLAY_ENQUEUE_TRIGGER_BYTES = 1024 * 10; // 10 KB\nexports.MAX_INDIVIDUAL_EVENT_BYTES = 1024 * 1024 * 10; // 10 MB\nexports.MAX_LOGS = 10000; // 10K logs\nfunction _makeLoggableRrwebEvent(slice, payload, sessionID, data, sdkInstanceID) {\n  const metadata = {\n    session_start_ts: String(data.startTime),\n    session_end_ts: String(data.endTime),\n    clicks_captured_cumulative: String(data.clickCount),\n    rrweb_events: slice,\n    rrweb_payload_size: String(payload.length),\n    session_replay_sdk_version: client_core_1.SDK_VERSION,\n    sdk_instance_id: sdkInstanceID\n  };\n  return {\n    eventName: 'statsig::session_recording',\n    value: sessionID,\n    metadata\n  };\n}\nexports._makeLoggableRrwebEvent = _makeLoggableRrwebEvent;\nfunction _slicePayload(payload) {\n  const parts = [];\n  for (let i = 0; i < payload.length; i += REPLAY_SLICE_BYTES) {\n    parts.push(payload.slice(i, i + REPLAY_SLICE_BYTES));\n  }\n  return parts;\n}\nexports._slicePayload = _slicePayload;\nfunction _appendSlicedMetadata(metadata, slicedID, sliceIndex, sliceCount, sliceByteSize) {\n  metadata.sliced_id = slicedID;\n  metadata.slice_index = String(sliceIndex);\n  metadata.slice_count = String(sliceCount);\n  metadata.slice_byte_size = String(sliceByteSize);\n}\nexports._appendSlicedMetadata = _appendSlicedMetadata;","map":{"version":3,"names":["Object","defineProperty","exports","value","_appendSlicedMetadata","_slicePayload","_makeLoggableRrwebEvent","MAX_LOGS","MAX_INDIVIDUAL_EVENT_BYTES","REPLAY_ENQUEUE_TRIGGER_BYTES","client_core_1","require","REPLAY_SLICE_BYTES","slice","payload","sessionID","data","sdkInstanceID","metadata","session_start_ts","String","startTime","session_end_ts","endTime","clicks_captured_cumulative","clickCount","rrweb_events","rrweb_payload_size","length","session_replay_sdk_version","SDK_VERSION","sdk_instance_id","eventName","parts","i","push","slicedID","sliceIndex","sliceCount","sliceByteSize","sliced_id","slice_index","slice_count","slice_byte_size"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/session-replay/src/SessionReplayUtils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._appendSlicedMetadata = exports._slicePayload = exports._makeLoggableRrwebEvent = exports.MAX_LOGS = exports.MAX_INDIVIDUAL_EVENT_BYTES = exports.REPLAY_ENQUEUE_TRIGGER_BYTES = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst REPLAY_SLICE_BYTES = 1024 * 1024; // 1 MB\nexports.REPLAY_ENQUEUE_TRIGGER_BYTES = 1024 * 10; // 10 KB\nexports.MAX_INDIVIDUAL_EVENT_BYTES = 1024 * 1024 * 10; // 10 MB\nexports.MAX_LOGS = 10000; // 10K logs\nfunction _makeLoggableRrwebEvent(slice, payload, sessionID, data, sdkInstanceID) {\n    const metadata = {\n        session_start_ts: String(data.startTime),\n        session_end_ts: String(data.endTime),\n        clicks_captured_cumulative: String(data.clickCount),\n        rrweb_events: slice,\n        rrweb_payload_size: String(payload.length),\n        session_replay_sdk_version: client_core_1.SDK_VERSION,\n        sdk_instance_id: sdkInstanceID,\n    };\n    return {\n        eventName: 'statsig::session_recording',\n        value: sessionID,\n        metadata,\n    };\n}\nexports._makeLoggableRrwebEvent = _makeLoggableRrwebEvent;\nfunction _slicePayload(payload) {\n    const parts = [];\n    for (let i = 0; i < payload.length; i += REPLAY_SLICE_BYTES) {\n        parts.push(payload.slice(i, i + REPLAY_SLICE_BYTES));\n    }\n    return parts;\n}\nexports._slicePayload = _slicePayload;\nfunction _appendSlicedMetadata(metadata, slicedID, sliceIndex, sliceCount, sliceByteSize) {\n    metadata.sliced_id = slicedID;\n    metadata.slice_index = String(sliceIndex);\n    metadata.slice_count = String(sliceCount);\n    metadata.slice_byte_size = String(sliceByteSize);\n}\nexports._appendSlicedMetadata = _appendSlicedMetadata;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,qBAAqB,GAAGF,OAAO,CAACG,aAAa,GAAGH,OAAO,CAACI,uBAAuB,GAAGJ,OAAO,CAACK,QAAQ,GAAGL,OAAO,CAACM,0BAA0B,GAAGN,OAAO,CAACO,4BAA4B,GAAG,KAAK,CAAC;AAC/L,MAAMC,aAAa,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AACrD,MAAMC,kBAAkB,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;AACxCV,OAAO,CAACO,4BAA4B,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;AAClDP,OAAO,CAACM,0BAA0B,GAAG,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;AACvDN,OAAO,CAACK,QAAQ,GAAG,KAAK,CAAC,CAAC;AAC1B,SAASD,uBAAuBA,CAACO,KAAK,EAAEC,OAAO,EAAEC,SAAS,EAAEC,IAAI,EAAEC,aAAa,EAAE;EAC7E,MAAMC,QAAQ,GAAG;IACbC,gBAAgB,EAAEC,MAAM,CAACJ,IAAI,CAACK,SAAS,CAAC;IACxCC,cAAc,EAAEF,MAAM,CAACJ,IAAI,CAACO,OAAO,CAAC;IACpCC,0BAA0B,EAAEJ,MAAM,CAACJ,IAAI,CAACS,UAAU,CAAC;IACnDC,YAAY,EAAEb,KAAK;IACnBc,kBAAkB,EAAEP,MAAM,CAACN,OAAO,CAACc,MAAM,CAAC;IAC1CC,0BAA0B,EAAEnB,aAAa,CAACoB,WAAW;IACrDC,eAAe,EAAEd;EACrB,CAAC;EACD,OAAO;IACHe,SAAS,EAAE,4BAA4B;IACvC7B,KAAK,EAAEY,SAAS;IAChBG;EACJ,CAAC;AACL;AACAhB,OAAO,CAACI,uBAAuB,GAAGA,uBAAuB;AACzD,SAASD,aAAaA,CAACS,OAAO,EAAE;EAC5B,MAAMmB,KAAK,GAAG,EAAE;EAChB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGpB,OAAO,CAACc,MAAM,EAAEM,CAAC,IAAItB,kBAAkB,EAAE;IACzDqB,KAAK,CAACE,IAAI,CAACrB,OAAO,CAACD,KAAK,CAACqB,CAAC,EAAEA,CAAC,GAAGtB,kBAAkB,CAAC,CAAC;EACxD;EACA,OAAOqB,KAAK;AAChB;AACA/B,OAAO,CAACG,aAAa,GAAGA,aAAa;AACrC,SAASD,qBAAqBA,CAACc,QAAQ,EAAEkB,QAAQ,EAAEC,UAAU,EAAEC,UAAU,EAAEC,aAAa,EAAE;EACtFrB,QAAQ,CAACsB,SAAS,GAAGJ,QAAQ;EAC7BlB,QAAQ,CAACuB,WAAW,GAAGrB,MAAM,CAACiB,UAAU,CAAC;EACzCnB,QAAQ,CAACwB,WAAW,GAAGtB,MAAM,CAACkB,UAAU,CAAC;EACzCpB,QAAQ,CAACyB,eAAe,GAAGvB,MAAM,CAACmB,aAAa,CAAC;AACpD;AACArC,OAAO,CAACE,qBAAqB,GAAGA,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}