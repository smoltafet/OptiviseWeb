{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._makeParamStoreGetter = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst NO_EXPOSURE_OPT = {\n  disableExposureLog: true\n};\nfunction _shouldLogExposure(options) {\n  return options == null || options.disableExposureLog === false;\n}\nfunction _shouldReturnFallback(value, fallback) {\n  return fallback != null && !(0, client_core_1._isTypeMatch)(value, fallback);\n}\nfunction _getMappedStaticValue(param, _options) {\n  return param.value;\n}\nfunction _getMappedGateValue(client, param, options) {\n  const gate = client.getFeatureGate(param.gate_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n  if (gate.value) {\n    return param.pass_value;\n  }\n  return param.fail_value;\n}\nfunction _getMappedDynamicConfigValue(client, param, fallback, options) {\n  const config = client.getDynamicConfig(param.config_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n  const value = config.get(param.param_name);\n  if (_shouldReturnFallback(value, fallback)) {\n    return fallback;\n  }\n  return value;\n}\nfunction _getMappedExperimentValue(client, param, fallback, options) {\n  const experiment = client.getExperiment(param.experiment_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n  const value = experiment.get(param.param_name);\n  if (_shouldReturnFallback(value, fallback)) {\n    return fallback;\n  }\n  return value;\n}\nfunction _getMappedLayerValue(client, param, fallback, options) {\n  const layer = client.getLayer(param.layer_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n  const value = layer.get(param.param_name);\n  if (_shouldReturnFallback(value, fallback)) {\n    return fallback;\n  }\n  return value;\n}\nfunction _makeParamStoreGetter(client, config, options) {\n  return (paramName, fallback) => {\n    if (config == null) {\n      return fallback;\n    }\n    const param = config[paramName];\n    if (param == null || fallback != null && (0, client_core_1._typeOf)(fallback) !== param.param_type) {\n      return fallback;\n    }\n    switch (param.ref_type) {\n      case 'static':\n        return _getMappedStaticValue(param, options);\n      case 'gate':\n        return _getMappedGateValue(client, param, options);\n      case 'dynamic_config':\n        return _getMappedDynamicConfigValue(client, param, fallback, options);\n      case 'experiment':\n        return _getMappedExperimentValue(client, param, fallback, options);\n      case 'layer':\n        return _getMappedLayerValue(client, param, fallback, options);\n      default:\n        return fallback;\n    }\n  };\n}\nexports._makeParamStoreGetter = _makeParamStoreGetter;","map":{"version":3,"names":["Object","defineProperty","exports","value","_makeParamStoreGetter","client_core_1","require","NO_EXPOSURE_OPT","disableExposureLog","_shouldLogExposure","options","_shouldReturnFallback","fallback","_isTypeMatch","_getMappedStaticValue","param","_options","_getMappedGateValue","client","gate","getFeatureGate","gate_name","undefined","pass_value","fail_value","_getMappedDynamicConfigValue","config","getDynamicConfig","config_name","get","param_name","_getMappedExperimentValue","experiment","getExperiment","experiment_name","_getMappedLayerValue","layer","getLayer","layer_name","paramName","_typeOf","param_type","ref_type"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/js-client/src/ParamStoreGetterFactory.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._makeParamStoreGetter = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst NO_EXPOSURE_OPT = {\n    disableExposureLog: true,\n};\nfunction _shouldLogExposure(options) {\n    return options == null || options.disableExposureLog === false;\n}\nfunction _shouldReturnFallback(value, fallback) {\n    return fallback != null && !(0, client_core_1._isTypeMatch)(value, fallback);\n}\nfunction _getMappedStaticValue(param, _options) {\n    return param.value;\n}\nfunction _getMappedGateValue(client, param, options) {\n    const gate = client.getFeatureGate(param.gate_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n    if (gate.value) {\n        return param.pass_value;\n    }\n    return param.fail_value;\n}\nfunction _getMappedDynamicConfigValue(client, param, fallback, options) {\n    const config = client.getDynamicConfig(param.config_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n    const value = config.get(param.param_name);\n    if (_shouldReturnFallback(value, fallback)) {\n        return fallback;\n    }\n    return value;\n}\nfunction _getMappedExperimentValue(client, param, fallback, options) {\n    const experiment = client.getExperiment(param.experiment_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n    const value = experiment.get(param.param_name);\n    if (_shouldReturnFallback(value, fallback)) {\n        return fallback;\n    }\n    return value;\n}\nfunction _getMappedLayerValue(client, param, fallback, options) {\n    const layer = client.getLayer(param.layer_name, _shouldLogExposure(options) ? undefined : NO_EXPOSURE_OPT);\n    const value = layer.get(param.param_name);\n    if (_shouldReturnFallback(value, fallback)) {\n        return fallback;\n    }\n    return value;\n}\nfunction _makeParamStoreGetter(client, config, options) {\n    return (paramName, fallback) => {\n        if (config == null) {\n            return fallback;\n        }\n        const param = config[paramName];\n        if (param == null ||\n            (fallback != null && (0, client_core_1._typeOf)(fallback) !== param.param_type)) {\n            return fallback;\n        }\n        switch (param.ref_type) {\n            case 'static':\n                return _getMappedStaticValue(param, options);\n            case 'gate':\n                return _getMappedGateValue(client, param, options);\n            case 'dynamic_config':\n                return _getMappedDynamicConfigValue(client, param, fallback, options);\n            case 'experiment':\n                return _getMappedExperimentValue(client, param, fallback, options);\n            case 'layer':\n                return _getMappedLayerValue(client, param, fallback, options);\n            default:\n                return fallback;\n        }\n    };\n}\nexports._makeParamStoreGetter = _makeParamStoreGetter;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}