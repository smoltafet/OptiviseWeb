{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AutoCapture = exports.runStatsigAutoCapture = exports.StatsigAutoCapturePlugin = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst AutoCaptureEvent_1 = require(\"./AutoCaptureEvent\");\nconst ConsoleLogManager_1 = require(\"./ConsoleLogManager\");\nconst DeadClickManager_1 = require(\"./DeadClickManager\");\nconst EngagementManager_1 = require(\"./EngagementManager\");\nconst RageClickManager_1 = require(\"./RageClickManager\");\nconst WebVitalsManager_1 = require(\"./WebVitalsManager\");\nconst commonUtils_1 = require(\"./utils/commonUtils\");\nconst eventUtils_1 = require(\"./utils/eventUtils\");\nconst metadataUtils_1 = require(\"./utils/metadataUtils\");\nconst AUTO_EVENT_MAPPING = {\n  submit: AutoCaptureEvent_1.AutoCaptureEventName.FORM_SUBMIT,\n  click: AutoCaptureEvent_1.AutoCaptureEventName.CLICK,\n  copy: AutoCaptureEvent_1.AutoCaptureEventName.COPY,\n  cut: AutoCaptureEvent_1.AutoCaptureEventName.COPY\n};\nclass StatsigAutoCapturePlugin {\n  constructor(_options) {\n    this._options = _options;\n    this.__plugin = 'auto-capture';\n  }\n  bind(client) {\n    runStatsigAutoCapture(client, this._options);\n  }\n}\nexports.StatsigAutoCapturePlugin = StatsigAutoCapturePlugin;\nfunction runStatsigAutoCapture(client, options) {\n  var _a;\n  const {\n    sdkKey\n  } = client.getContext();\n  if (!(0, client_core_1._isServerEnv)()) {\n    const global = (0, client_core_1._getStatsigGlobal)();\n    const instances = (_a = global.acInstances) !== null && _a !== void 0 ? _a : {};\n    if (instances[sdkKey]) {\n      return instances[sdkKey];\n    }\n  }\n  return new AutoCapture(client, options);\n}\nexports.runStatsigAutoCapture = runStatsigAutoCapture;\nclass AutoCapture {\n  constructor(_client, options) {\n    var _a, _b, _c, _d;\n    this._client = _client;\n    this._disabledEvents = {};\n    this._previousLoggedPageViewUrl = null;\n    this._hasLoggedPageViewEnd = false;\n    this._pageViewLogged = false;\n    const {\n      sdkKey,\n      errorBoundary,\n      values\n    } = _client.getContext();\n    this._options = options;\n    this._disabledEvents = (_b = (_a = values === null || values === void 0 ? void 0 : values.auto_capture_settings) === null || _a === void 0 ? void 0 : _a.disabled_events) !== null && _b !== void 0 ? _b : {};\n    this._errorBoundary = errorBoundary;\n    this._errorBoundary.wrap(this, 'autoCapture:');\n    this._client.$on('values_updated', () => {\n      var _a, _b;\n      const values = this._client.getContext().values;\n      this._disabledEvents = (_b = (_a = values === null || values === void 0 ? void 0 : values.auto_capture_settings) === null || _a === void 0 ? void 0 : _a.disabled_events) !== null && _b !== void 0 ? _b : this._disabledEvents;\n    });\n    this._engagementManager = new EngagementManager_1.EngagementManager();\n    this._rageClickManager = new RageClickManager_1.default();\n    this._webVitalsManager = new WebVitalsManager_1.WebVitalsManager(this._enqueueAutoCapture.bind(this), errorBoundary);\n    this._deadClickManager = new DeadClickManager_1.default(this._enqueueAutoCapture.bind(this), errorBoundary);\n    this._consoleLogManager = new ConsoleLogManager_1.ConsoleLogManager(this._enqueueAutoCapture.bind(this), errorBoundary, (_c = options === null || options === void 0 ? void 0 : options.consoleLogAutoCaptureSettings) !== null && _c !== void 0 ? _c : {\n      enabled: false\n    });\n    this._eventFilterFunc = options === null || options === void 0 ? void 0 : options.eventFilterFunc;\n    const doc = (0, client_core_1._getDocumentSafe)();\n    if (!(0, client_core_1._isServerEnv)()) {\n      __STATSIG__ = (0, client_core_1._getStatsigGlobal)();\n      const instances = (_d = __STATSIG__.acInstances) !== null && _d !== void 0 ? _d : {};\n      instances[sdkKey] = this;\n      __STATSIG__.acInstances = instances;\n    }\n    if ((doc === null || doc === void 0 ? void 0 : doc.readyState) === 'loading') {\n      doc.addEventListener('DOMContentLoaded', () => this._initialize());\n      return;\n    }\n    this._initialize();\n  }\n  _addEventHandlers() {\n    const win = (0, client_core_1._getWindowSafe)();\n    const doc = (0, client_core_1._getDocumentSafe)();\n    if (!win || !doc) {\n      return;\n    }\n    const eventHandler = (event, userAction = true) => {\n      var _a;\n      const e = event || ((_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.event);\n      this._autoLogEvent(e);\n      if (userAction) {\n        this._engagementManager.bumpInactiveTimer();\n      }\n      if (e.type === 'click' && e instanceof MouseEvent) {\n        const isRageClick = this._rageClickManager.isRageClick(e.clientX, e.clientY, Date.now());\n        if (isRageClick) {\n          this._logRageClick(e);\n        }\n      }\n    };\n    (0, commonUtils_1._registerEventHandler)(doc, 'click', e => eventHandler(e));\n    (0, commonUtils_1._registerEventHandler)(doc, 'submit', e => eventHandler(e));\n    (0, commonUtils_1._registerEventHandler)(doc, 'copy', e => eventHandler(e));\n    (0, commonUtils_1._registerEventHandler)(doc, 'cut', e => eventHandler(e));\n    (0, commonUtils_1._registerEventHandler)(win, 'error', e => eventHandler(e, false));\n    (0, commonUtils_1._registerEventHandler)(win, 'pagehide', () => this._tryLogPageViewEnd());\n    (0, commonUtils_1._registerEventHandler)(win, 'beforeunload', () => this._tryLogPageViewEnd());\n  }\n  _addPageViewTracking() {\n    const win = (0, client_core_1._getWindowSafe)();\n    const doc = (0, client_core_1._getDocumentSafe)();\n    if (!win || !doc) {\n      return;\n    }\n    (0, commonUtils_1._registerEventHandler)(win, 'popstate', () => this._tryLogPageView('popstate'));\n    window.history.pushState = new Proxy(window.history.pushState, {\n      apply: (target, thisArg, [state, unused, url]) => {\n        target.apply(thisArg, [state, unused, url]);\n        this._tryLogPageView('pushstate');\n      }\n    });\n    window.history.replaceState = new Proxy(window.history.replaceState, {\n      apply: (target, thisArg, [state, unused, url]) => {\n        target.apply(thisArg, [state, unused, url]);\n        this._tryLogPageView('replacestate');\n      }\n    });\n    this._tryLogPageView();\n  }\n  _autoLogEvent(event) {\n    var _a, _b, _c, _d;\n    const eventType = (_a = event.type) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    if (eventType === 'error' && event instanceof ErrorEvent) {\n      this._logError(event);\n      return;\n    }\n    const target = (0, commonUtils_1._getTargetNode)(event);\n    if (!target) {\n      return;\n    }\n    const eventName = AUTO_EVENT_MAPPING[eventType];\n    if (!eventName) {\n      return;\n    }\n    const isCopyEvent = eventName === AutoCaptureEvent_1.AutoCaptureEventName.COPY;\n    if (!(0, commonUtils_1._shouldLogEvent)(event, target, isCopyEvent)) {\n      return;\n    }\n    const metadata = {};\n    if (isCopyEvent) {\n      const selectedText = (_c = (_b = (0, client_core_1._getWindowSafe)()) === null || _b === void 0 ? void 0 : _b.getSelection()) === null || _c === void 0 ? void 0 : _c.toString();\n      if (!selectedText) {\n        return;\n      }\n      if ((_d = this._options) === null || _d === void 0 ? void 0 : _d.captureCopyText) {\n        metadata['selectedText'] = (0, commonUtils_1._sanitizeString)(selectedText);\n      }\n      const clipType = event.type || 'clipboard';\n      metadata['clipType'] = clipType;\n    }\n    const {\n      value,\n      metadata: eventMetadata\n    } = (0, eventUtils_1._gatherEventData)(target);\n    if (eventMetadata['isOutbound']) {\n      this._engagementManager.setMeaningfulEngagementOccurred(true);\n    }\n    Object.assign(metadata, eventMetadata);\n    const allMetadata = (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)());\n    this._enqueueAutoCapture(eventName, value, Object.assign(Object.assign({}, allMetadata), metadata));\n  }\n  _initialize() {\n    this._webVitalsManager.startTracking();\n    this._deadClickManager.startTracking();\n    this._consoleLogManager.startTracking();\n    this._engagementManager.startInactivityTracking(() => this._tryLogPageViewEnd(true));\n    this._addEventHandlers();\n    this._addPageViewTracking();\n    this._logSessionStart();\n    this._logPerformance();\n  }\n  _logError(event) {\n    const error = (event === null || event === void 0 ? void 0 : event.error) || {};\n    let errorStr = error;\n    if (typeof error === 'object') {\n      try {\n        errorStr = JSON.stringify(error);\n      } catch (e) {\n        errorStr = typeof (error === null || error === void 0 ? void 0 : error.toString) === 'function' ? error.toString() : 'Unknown Error';\n      }\n    }\n    this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.ERROR, event.message, {\n      message: event.message,\n      filename: event.filename,\n      lineno: event.lineno,\n      colno: event.colno,\n      error_str: errorStr\n    });\n  }\n  _logSessionStart() {\n    const session = this._getSessionFromClient();\n    try {\n      if (!this._isNewSession(session)) {\n        return;\n      }\n      this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.SESSION_START, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign({\n        sessionID: session.data.sessionID\n      }, (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)())), {\n        flushImmediately: true\n      });\n    } catch (err) {\n      this._errorBoundary.logError('AC::logSession', err);\n    }\n  }\n  _tryLogPageView(navigationType) {\n    const url = (0, commonUtils_1._getSafeUrl)();\n    const last = this._previousLoggedPageViewUrl;\n    if (last && url.pathname === last.pathname) {\n      return;\n    }\n    this._engagementManager.setLastPageViewTime(Date.now());\n    this._hasLoggedPageViewEnd = false;\n    const payload = (0, metadataUtils_1._gatherAllMetadata)(url);\n    if (navigationType) {\n      payload['navigation_type'] = navigationType;\n    }\n    if (this._previousLoggedPageViewUrl) {\n      payload['last_page_view_url'] = this._previousLoggedPageViewUrl.href;\n    }\n    if (!this._pageViewLogged) {\n      this._updateClientWithPossibleFirstTouchMetadata();\n      this._pageViewLogged = true;\n    }\n    this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PAGE_VIEW, (0, commonUtils_1._getSanitizedPageUrl)(), payload, {\n      flushImmediately: true,\n      addNewSessionMetadata: true\n    });\n    this._previousLoggedPageViewUrl = url;\n    this._engagementManager.bumpInactiveTimer();\n  }\n  _tryLogPageViewEnd(dueToInactivity = false) {\n    if (this._hasLoggedPageViewEnd) {\n      return;\n    }\n    this._hasLoggedPageViewEnd = true;\n    this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PAGE_VIEW_END, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign(Object.assign({}, this._engagementManager.getPageViewEndMetadata()), {\n      dueToInactivity\n    }), {\n      flushImmediately: true\n    });\n  }\n  _logRageClick(e) {\n    if (!(0, commonUtils_1._shouldLogEvent)(e, e.target)) {\n      return;\n    }\n    const {\n      value,\n      metadata\n    } = (0, eventUtils_1._gatherEventData)(e.target);\n    this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.RAGE_CLICK, value, Object.assign(Object.assign({\n      x: e.clientX,\n      y: e.clientY,\n      timestamp: Date.now()\n    }, (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)())), metadata));\n  }\n  _logPerformance() {\n    const win = (0, client_core_1._getWindowSafe)();\n    if (!win || !win.performance) {\n      return;\n    }\n    if (typeof (win === null || win === void 0 ? void 0 : win.performance) === 'undefined' || typeof win.performance.getEntriesByType !== 'function' || typeof win.performance.getEntriesByName !== 'function') {\n      return;\n    }\n    setTimeout(() => {\n      const metadata = {};\n      const navEntries = win.performance.getEntriesByType('navigation');\n      if (navEntries && navEntries.length > 0 && navEntries[0] instanceof PerformanceNavigationTiming) {\n        const nav = navEntries[0];\n        metadata['load_time_ms'] = nav.duration;\n        metadata['dom_interactive_time_ms'] = nav.domInteractive - nav.startTime;\n        metadata['redirect_count'] = nav.redirectCount;\n        metadata['transfer_bytes'] = nav.transferSize;\n      }\n      const fpEntries = win.performance.getEntriesByName('first-contentful-paint');\n      if (fpEntries && fpEntries.length > 0 && fpEntries[0] instanceof PerformancePaintTiming) {\n        metadata['first_contentful_paint_time_ms'] = fpEntries[0].startTime;\n      }\n      this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PERFORMANCE, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign(Object.assign({}, metadata), (0, metadataUtils_1._getNetworkInfo)()));\n    }, 1);\n  }\n  _enqueueAutoCapture(eventName, value, metadata, options) {\n    var _a, _b, _c;\n    if (!value) {\n      return;\n    }\n    const subname = eventName.slice('auto_capture::'.length);\n    if (this._disabledEvents[eventName] || this._disabledEvents[subname]) {\n      return;\n    }\n    const session = this._getSessionFromClient();\n    try {\n      const logMetadata = Object.assign({\n        sessionID: session.data.sessionID,\n        page_url: (_c = (_b = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.location) === null || _b === void 0 ? void 0 : _b.href) !== null && _c !== void 0 ? _c : ''\n      }, metadata);\n      if (options === null || options === void 0 ? void 0 : options.addNewSessionMetadata) {\n        logMetadata['isNewSession'] = String(this._isNewSession(session));\n      }\n      const event = {\n        eventName,\n        value,\n        metadata: logMetadata\n      };\n      if (this._eventFilterFunc && !this._eventFilterFunc(event)) {\n        return;\n      }\n      this._client.logEvent(event);\n      if (options === null || options === void 0 ? void 0 : options.flushImmediately) {\n        this._flushImmediately();\n      }\n    } catch (err) {\n      this._errorBoundary.logError('AC::enqueue', err);\n    }\n  }\n  _updateClientWithPossibleFirstTouchMetadata() {\n    const typedClient = this._client;\n    typedClient._possibleFirstTouchMetadata = (0, metadataUtils_1._getPossibleFirstTouchMetadata)((0, commonUtils_1._getSafeUrl)());\n    // Only update user if first touch metadata is not empty\n    if (Object.keys(typedClient._possibleFirstTouchMetadata).length > 0) {\n      typedClient._user = Object.assign(Object.assign({}, typedClient._user), {\n        analyticsOnlyMetadata: Object.assign(Object.assign({}, typedClient._possibleFirstTouchMetadata), typedClient._user.analyticsOnlyMetadata)\n      });\n    }\n  }\n  _flushImmediately() {\n    this._client.flush().catch(e => {\n      client_core_1.Log.error(e);\n    });\n  }\n  _isNewSession(session) {\n    // within the last second\n    return Math.abs(session.data.startTime - Date.now()) < 1000;\n  }\n  _getSessionFromClient() {\n    return this._client.getContext().session;\n  }\n  static getAllMetadata() {\n    return (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)());\n  }\n}\nexports.AutoCapture = AutoCapture;","map":{"version":3,"names":["Object","defineProperty","exports","value","AutoCapture","runStatsigAutoCapture","StatsigAutoCapturePlugin","client_core_1","require","AutoCaptureEvent_1","ConsoleLogManager_1","DeadClickManager_1","EngagementManager_1","RageClickManager_1","WebVitalsManager_1","commonUtils_1","eventUtils_1","metadataUtils_1","AUTO_EVENT_MAPPING","submit","AutoCaptureEventName","FORM_SUBMIT","click","CLICK","copy","COPY","cut","constructor","_options","__plugin","bind","client","options","_a","sdkKey","getContext","_isServerEnv","global","_getStatsigGlobal","instances","acInstances","_client","_b","_c","_d","_disabledEvents","_previousLoggedPageViewUrl","_hasLoggedPageViewEnd","_pageViewLogged","errorBoundary","values","auto_capture_settings","disabled_events","_errorBoundary","wrap","$on","_engagementManager","EngagementManager","_rageClickManager","default","_webVitalsManager","WebVitalsManager","_enqueueAutoCapture","_deadClickManager","_consoleLogManager","ConsoleLogManager","consoleLogAutoCaptureSettings","enabled","_eventFilterFunc","eventFilterFunc","doc","_getDocumentSafe","__STATSIG__","readyState","addEventListener","_initialize","_addEventHandlers","win","_getWindowSafe","eventHandler","event","userAction","e","_autoLogEvent","bumpInactiveTimer","type","MouseEvent","isRageClick","clientX","clientY","Date","now","_logRageClick","_registerEventHandler","_tryLogPageViewEnd","_addPageViewTracking","_tryLogPageView","window","history","pushState","Proxy","apply","target","thisArg","state","unused","url","replaceState","eventType","toLowerCase","ErrorEvent","_logError","_getTargetNode","eventName","isCopyEvent","_shouldLogEvent","metadata","selectedText","getSelection","toString","captureCopyText","_sanitizeString","clipType","eventMetadata","_gatherEventData","setMeaningfulEngagementOccurred","assign","allMetadata","_gatherAllMetadata","_getSafeUrl","startTracking","startInactivityTracking","_logSessionStart","_logPerformance","error","errorStr","JSON","stringify","ERROR","message","filename","lineno","colno","error_str","session","_getSessionFromClient","_isNewSession","SESSION_START","_getSanitizedPageUrl","sessionID","data","flushImmediately","err","logError","navigationType","last","pathname","setLastPageViewTime","payload","href","_updateClientWithPossibleFirstTouchMetadata","PAGE_VIEW","addNewSessionMetadata","dueToInactivity","PAGE_VIEW_END","getPageViewEndMetadata","RAGE_CLICK","x","y","timestamp","performance","getEntriesByType","getEntriesByName","setTimeout","navEntries","length","PerformanceNavigationTiming","nav","duration","domInteractive","startTime","redirectCount","transferSize","fpEntries","PerformancePaintTiming","PERFORMANCE","_getNetworkInfo","subname","slice","logMetadata","page_url","location","String","logEvent","_flushImmediately","typedClient","_possibleFirstTouchMetadata","_getPossibleFirstTouchMetadata","keys","_user","analyticsOnlyMetadata","flush","catch","Log","Math","abs","getAllMetadata"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/web-analytics/src/AutoCapture.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AutoCapture = exports.runStatsigAutoCapture = exports.StatsigAutoCapturePlugin = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst AutoCaptureEvent_1 = require(\"./AutoCaptureEvent\");\nconst ConsoleLogManager_1 = require(\"./ConsoleLogManager\");\nconst DeadClickManager_1 = require(\"./DeadClickManager\");\nconst EngagementManager_1 = require(\"./EngagementManager\");\nconst RageClickManager_1 = require(\"./RageClickManager\");\nconst WebVitalsManager_1 = require(\"./WebVitalsManager\");\nconst commonUtils_1 = require(\"./utils/commonUtils\");\nconst eventUtils_1 = require(\"./utils/eventUtils\");\nconst metadataUtils_1 = require(\"./utils/metadataUtils\");\nconst AUTO_EVENT_MAPPING = {\n    submit: AutoCaptureEvent_1.AutoCaptureEventName.FORM_SUBMIT,\n    click: AutoCaptureEvent_1.AutoCaptureEventName.CLICK,\n    copy: AutoCaptureEvent_1.AutoCaptureEventName.COPY,\n    cut: AutoCaptureEvent_1.AutoCaptureEventName.COPY,\n};\nclass StatsigAutoCapturePlugin {\n    constructor(_options) {\n        this._options = _options;\n        this.__plugin = 'auto-capture';\n    }\n    bind(client) {\n        runStatsigAutoCapture(client, this._options);\n    }\n}\nexports.StatsigAutoCapturePlugin = StatsigAutoCapturePlugin;\nfunction runStatsigAutoCapture(client, options) {\n    var _a;\n    const { sdkKey } = client.getContext();\n    if (!(0, client_core_1._isServerEnv)()) {\n        const global = (0, client_core_1._getStatsigGlobal)();\n        const instances = (_a = global.acInstances) !== null && _a !== void 0 ? _a : {};\n        if (instances[sdkKey]) {\n            return instances[sdkKey];\n        }\n    }\n    return new AutoCapture(client, options);\n}\nexports.runStatsigAutoCapture = runStatsigAutoCapture;\nclass AutoCapture {\n    constructor(_client, options) {\n        var _a, _b, _c, _d;\n        this._client = _client;\n        this._disabledEvents = {};\n        this._previousLoggedPageViewUrl = null;\n        this._hasLoggedPageViewEnd = false;\n        this._pageViewLogged = false;\n        const { sdkKey, errorBoundary, values } = _client.getContext();\n        this._options = options;\n        this._disabledEvents = (_b = (_a = values === null || values === void 0 ? void 0 : values.auto_capture_settings) === null || _a === void 0 ? void 0 : _a.disabled_events) !== null && _b !== void 0 ? _b : {};\n        this._errorBoundary = errorBoundary;\n        this._errorBoundary.wrap(this, 'autoCapture:');\n        this._client.$on('values_updated', () => {\n            var _a, _b;\n            const values = this._client.getContext().values;\n            this._disabledEvents =\n                (_b = (_a = values === null || values === void 0 ? void 0 : values.auto_capture_settings) === null || _a === void 0 ? void 0 : _a.disabled_events) !== null && _b !== void 0 ? _b : this._disabledEvents;\n        });\n        this._engagementManager = new EngagementManager_1.EngagementManager();\n        this._rageClickManager = new RageClickManager_1.default();\n        this._webVitalsManager = new WebVitalsManager_1.WebVitalsManager(this._enqueueAutoCapture.bind(this), errorBoundary);\n        this._deadClickManager = new DeadClickManager_1.default(this._enqueueAutoCapture.bind(this), errorBoundary);\n        this._consoleLogManager = new ConsoleLogManager_1.ConsoleLogManager(this._enqueueAutoCapture.bind(this), errorBoundary, (_c = options === null || options === void 0 ? void 0 : options.consoleLogAutoCaptureSettings) !== null && _c !== void 0 ? _c : { enabled: false });\n        this._eventFilterFunc = options === null || options === void 0 ? void 0 : options.eventFilterFunc;\n        const doc = (0, client_core_1._getDocumentSafe)();\n        if (!(0, client_core_1._isServerEnv)()) {\n            __STATSIG__ = (0, client_core_1._getStatsigGlobal)();\n            const instances = (_d = __STATSIG__.acInstances) !== null && _d !== void 0 ? _d : {};\n            instances[sdkKey] = this;\n            __STATSIG__.acInstances = instances;\n        }\n        if ((doc === null || doc === void 0 ? void 0 : doc.readyState) === 'loading') {\n            doc.addEventListener('DOMContentLoaded', () => this._initialize());\n            return;\n        }\n        this._initialize();\n    }\n    _addEventHandlers() {\n        const win = (0, client_core_1._getWindowSafe)();\n        const doc = (0, client_core_1._getDocumentSafe)();\n        if (!win || !doc) {\n            return;\n        }\n        const eventHandler = (event, userAction = true) => {\n            var _a;\n            const e = event || ((_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.event);\n            this._autoLogEvent(e);\n            if (userAction) {\n                this._engagementManager.bumpInactiveTimer();\n            }\n            if (e.type === 'click' && e instanceof MouseEvent) {\n                const isRageClick = this._rageClickManager.isRageClick(e.clientX, e.clientY, Date.now());\n                if (isRageClick) {\n                    this._logRageClick(e);\n                }\n            }\n        };\n        (0, commonUtils_1._registerEventHandler)(doc, 'click', (e) => eventHandler(e));\n        (0, commonUtils_1._registerEventHandler)(doc, 'submit', (e) => eventHandler(e));\n        (0, commonUtils_1._registerEventHandler)(doc, 'copy', (e) => eventHandler(e));\n        (0, commonUtils_1._registerEventHandler)(doc, 'cut', (e) => eventHandler(e));\n        (0, commonUtils_1._registerEventHandler)(win, 'error', (e) => eventHandler(e, false));\n        (0, commonUtils_1._registerEventHandler)(win, 'pagehide', () => this._tryLogPageViewEnd());\n        (0, commonUtils_1._registerEventHandler)(win, 'beforeunload', () => this._tryLogPageViewEnd());\n    }\n    _addPageViewTracking() {\n        const win = (0, client_core_1._getWindowSafe)();\n        const doc = (0, client_core_1._getDocumentSafe)();\n        if (!win || !doc) {\n            return;\n        }\n        (0, commonUtils_1._registerEventHandler)(win, 'popstate', () => this._tryLogPageView('popstate'));\n        window.history.pushState = new Proxy(window.history.pushState, {\n            apply: (target, thisArg, [state, unused, url]) => {\n                target.apply(thisArg, [state, unused, url]);\n                this._tryLogPageView('pushstate');\n            },\n        });\n        window.history.replaceState = new Proxy(window.history.replaceState, {\n            apply: (target, thisArg, [state, unused, url]) => {\n                target.apply(thisArg, [state, unused, url]);\n                this._tryLogPageView('replacestate');\n            },\n        });\n        this._tryLogPageView();\n    }\n    _autoLogEvent(event) {\n        var _a, _b, _c, _d;\n        const eventType = (_a = event.type) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n        if (eventType === 'error' && event instanceof ErrorEvent) {\n            this._logError(event);\n            return;\n        }\n        const target = (0, commonUtils_1._getTargetNode)(event);\n        if (!target) {\n            return;\n        }\n        const eventName = AUTO_EVENT_MAPPING[eventType];\n        if (!eventName) {\n            return;\n        }\n        const isCopyEvent = eventName === AutoCaptureEvent_1.AutoCaptureEventName.COPY;\n        if (!(0, commonUtils_1._shouldLogEvent)(event, target, isCopyEvent)) {\n            return;\n        }\n        const metadata = {};\n        if (isCopyEvent) {\n            const selectedText = (_c = (_b = (0, client_core_1._getWindowSafe)()) === null || _b === void 0 ? void 0 : _b.getSelection()) === null || _c === void 0 ? void 0 : _c.toString();\n            if (!selectedText) {\n                return;\n            }\n            if ((_d = this._options) === null || _d === void 0 ? void 0 : _d.captureCopyText) {\n                metadata['selectedText'] = (0, commonUtils_1._sanitizeString)(selectedText);\n            }\n            const clipType = event.type || 'clipboard';\n            metadata['clipType'] = clipType;\n        }\n        const { value, metadata: eventMetadata } = (0, eventUtils_1._gatherEventData)(target);\n        if (eventMetadata['isOutbound']) {\n            this._engagementManager.setMeaningfulEngagementOccurred(true);\n        }\n        Object.assign(metadata, eventMetadata);\n        const allMetadata = (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)());\n        this._enqueueAutoCapture(eventName, value, Object.assign(Object.assign({}, allMetadata), metadata));\n    }\n    _initialize() {\n        this._webVitalsManager.startTracking();\n        this._deadClickManager.startTracking();\n        this._consoleLogManager.startTracking();\n        this._engagementManager.startInactivityTracking(() => this._tryLogPageViewEnd(true));\n        this._addEventHandlers();\n        this._addPageViewTracking();\n        this._logSessionStart();\n        this._logPerformance();\n    }\n    _logError(event) {\n        const error = (event === null || event === void 0 ? void 0 : event.error) || {};\n        let errorStr = error;\n        if (typeof error === 'object') {\n            try {\n                errorStr = JSON.stringify(error);\n            }\n            catch (e) {\n                errorStr =\n                    typeof (error === null || error === void 0 ? void 0 : error.toString) === 'function'\n                        ? error.toString()\n                        : 'Unknown Error';\n            }\n        }\n        this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.ERROR, event.message, {\n            message: event.message,\n            filename: event.filename,\n            lineno: event.lineno,\n            colno: event.colno,\n            error_str: errorStr,\n        });\n    }\n    _logSessionStart() {\n        const session = this._getSessionFromClient();\n        try {\n            if (!this._isNewSession(session)) {\n                return;\n            }\n            this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.SESSION_START, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign({ sessionID: session.data.sessionID }, (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)())), { flushImmediately: true });\n        }\n        catch (err) {\n            this._errorBoundary.logError('AC::logSession', err);\n        }\n    }\n    _tryLogPageView(navigationType) {\n        const url = (0, commonUtils_1._getSafeUrl)();\n        const last = this._previousLoggedPageViewUrl;\n        if (last && url.pathname === last.pathname) {\n            return;\n        }\n        this._engagementManager.setLastPageViewTime(Date.now());\n        this._hasLoggedPageViewEnd = false;\n        const payload = (0, metadataUtils_1._gatherAllMetadata)(url);\n        if (navigationType) {\n            payload['navigation_type'] = navigationType;\n        }\n        if (this._previousLoggedPageViewUrl) {\n            payload['last_page_view_url'] = this._previousLoggedPageViewUrl.href;\n        }\n        if (!this._pageViewLogged) {\n            this._updateClientWithPossibleFirstTouchMetadata();\n            this._pageViewLogged = true;\n        }\n        this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PAGE_VIEW, (0, commonUtils_1._getSanitizedPageUrl)(), payload, {\n            flushImmediately: true,\n            addNewSessionMetadata: true,\n        });\n        this._previousLoggedPageViewUrl = url;\n        this._engagementManager.bumpInactiveTimer();\n    }\n    _tryLogPageViewEnd(dueToInactivity = false) {\n        if (this._hasLoggedPageViewEnd) {\n            return;\n        }\n        this._hasLoggedPageViewEnd = true;\n        this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PAGE_VIEW_END, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign(Object.assign({}, this._engagementManager.getPageViewEndMetadata()), { dueToInactivity }), {\n            flushImmediately: true,\n        });\n    }\n    _logRageClick(e) {\n        if (!(0, commonUtils_1._shouldLogEvent)(e, e.target)) {\n            return;\n        }\n        const { value, metadata } = (0, eventUtils_1._gatherEventData)(e.target);\n        this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.RAGE_CLICK, value, Object.assign(Object.assign({ x: e.clientX, y: e.clientY, timestamp: Date.now() }, (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)())), metadata));\n    }\n    _logPerformance() {\n        const win = (0, client_core_1._getWindowSafe)();\n        if (!win || !win.performance) {\n            return;\n        }\n        if (typeof (win === null || win === void 0 ? void 0 : win.performance) === 'undefined' ||\n            typeof win.performance.getEntriesByType !== 'function' ||\n            typeof win.performance.getEntriesByName !== 'function') {\n            return;\n        }\n        setTimeout(() => {\n            const metadata = {};\n            const navEntries = win.performance.getEntriesByType('navigation');\n            if (navEntries &&\n                navEntries.length > 0 &&\n                navEntries[0] instanceof PerformanceNavigationTiming) {\n                const nav = navEntries[0];\n                metadata['load_time_ms'] = nav.duration;\n                metadata['dom_interactive_time_ms'] =\n                    nav.domInteractive - nav.startTime;\n                metadata['redirect_count'] = nav.redirectCount;\n                metadata['transfer_bytes'] = nav.transferSize;\n            }\n            const fpEntries = win.performance.getEntriesByName('first-contentful-paint');\n            if (fpEntries &&\n                fpEntries.length > 0 &&\n                fpEntries[0] instanceof PerformancePaintTiming) {\n                metadata['first_contentful_paint_time_ms'] = fpEntries[0].startTime;\n            }\n            this._enqueueAutoCapture(AutoCaptureEvent_1.AutoCaptureEventName.PERFORMANCE, (0, commonUtils_1._getSanitizedPageUrl)(), Object.assign(Object.assign({}, metadata), (0, metadataUtils_1._getNetworkInfo)()));\n        }, 1);\n    }\n    _enqueueAutoCapture(eventName, value, metadata, options) {\n        var _a, _b, _c;\n        if (!value) {\n            return;\n        }\n        const subname = eventName.slice('auto_capture::'.length);\n        if (this._disabledEvents[eventName] || this._disabledEvents[subname]) {\n            return;\n        }\n        const session = this._getSessionFromClient();\n        try {\n            const logMetadata = Object.assign({ sessionID: session.data.sessionID, page_url: (_c = (_b = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.location) === null || _b === void 0 ? void 0 : _b.href) !== null && _c !== void 0 ? _c : '' }, metadata);\n            if (options === null || options === void 0 ? void 0 : options.addNewSessionMetadata) {\n                logMetadata['isNewSession'] = String(this._isNewSession(session));\n            }\n            const event = {\n                eventName,\n                value,\n                metadata: logMetadata,\n            };\n            if (this._eventFilterFunc && !this._eventFilterFunc(event)) {\n                return;\n            }\n            this._client.logEvent(event);\n            if (options === null || options === void 0 ? void 0 : options.flushImmediately) {\n                this._flushImmediately();\n            }\n        }\n        catch (err) {\n            this._errorBoundary.logError('AC::enqueue', err);\n        }\n    }\n    _updateClientWithPossibleFirstTouchMetadata() {\n        const typedClient = this._client;\n        typedClient._possibleFirstTouchMetadata =\n            (0, metadataUtils_1._getPossibleFirstTouchMetadata)((0, commonUtils_1._getSafeUrl)());\n        // Only update user if first touch metadata is not empty\n        if (Object.keys(typedClient._possibleFirstTouchMetadata).length > 0) {\n            typedClient._user = Object.assign(Object.assign({}, typedClient._user), { analyticsOnlyMetadata: Object.assign(Object.assign({}, typedClient._possibleFirstTouchMetadata), typedClient._user.analyticsOnlyMetadata) });\n        }\n    }\n    _flushImmediately() {\n        this._client.flush().catch((e) => {\n            client_core_1.Log.error(e);\n        });\n    }\n    _isNewSession(session) {\n        // within the last second\n        return Math.abs(session.data.startTime - Date.now()) < 1000;\n    }\n    _getSessionFromClient() {\n        return this._client.getContext().session;\n    }\n    static getAllMetadata() {\n        return (0, metadataUtils_1._gatherAllMetadata)((0, commonUtils_1._getSafeUrl)());\n    }\n}\nexports.AutoCapture = AutoCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}