{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._getMetadataFromElement = exports._gatherCopyEventData = exports._gatherEventData = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst commonUtils_1 = require(\"./commonUtils\");\nconst MAX_ATTRIBUTE_LENGTH = 1000;\nconst MAX_CLASS_LIST_LENGTH = 100;\nconst MAX_SELECTOR_DEPTH = 50;\nfunction _gatherEventData(target) {\n  const value = (0, commonUtils_1._getSanitizedPageUrl)() || '';\n  const tagName = target.tagName.toLowerCase();\n  // If the element is sensitive, we only gather safe attribute fields\n  if (_isSensitiveElement(target)) {\n    return {\n      value,\n      metadata: _getSafeMetadataAttributes(target)\n    };\n  }\n  const metadata = {};\n  metadata['tagName'] = tagName;\n  const elementMetadata = _getMetadataFromElement(target);\n  Object.assign(metadata, elementMetadata);\n  if (tagName === 'form') {\n    Object.assign(metadata, _getFormMetadata(target));\n  }\n  if (tagName === 'input') {\n    Object.assign(metadata, _getInputMetadata(target));\n  }\n  const anchor = (0, commonUtils_1._getAnchorNodeInHierarchy)(target);\n  if (anchor) {\n    Object.assign(metadata, _getAnchorMetadata(anchor));\n  }\n  if (tagName === 'button' || anchor) {\n    Object.assign(metadata, _getButtonMetadata(anchor || target));\n  }\n  if (_isOutboundLink(metadata)) {\n    metadata['isOutbound'] = 'true';\n  }\n  return {\n    value,\n    metadata\n  };\n}\nexports._gatherEventData = _gatherEventData;\nfunction _gatherCopyEventData(e) {\n  var _a, _b;\n  const selectedText = (_b = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.getSelection()) === null || _b === void 0 ? void 0 : _b.toString();\n  const metadata = {};\n  metadata['selectedText'] = (0, commonUtils_1._sanitizeString)(selectedText);\n  const clipType = e.type || 'clipboard';\n  metadata['clipType'] = clipType;\n  return metadata;\n}\nexports._gatherCopyEventData = _gatherCopyEventData;\nfunction _isSensitiveElement(target) {\n  return target.tagName.toLowerCase() === 'input' && ['button', 'checkbox', 'submit', 'reset'].includes(target.getAttribute('type') || '') || target.tagName.toLowerCase() === 'textarea' || target.tagName.toLowerCase() === 'select' || target.getAttribute('contenteditable') === 'true';\n}\nfunction _getFormMetadata(target) {\n  var _a;\n  const metadata = {};\n  metadata['action'] = target.getAttribute('action');\n  metadata['method'] = (_a = target.getAttribute('method')) !== null && _a !== void 0 ? _a : 'GET';\n  metadata['formName'] = target.getAttribute('name');\n  metadata['formId'] = target.getAttribute('id');\n  return metadata;\n}\nfunction _getInputMetadata(target) {\n  const metadata = {};\n  metadata['content'] = target.value;\n  metadata['inputName'] = target.getAttribute('name');\n  return metadata;\n}\nfunction _getAnchorMetadata(anchor) {\n  const metadata = {};\n  metadata['href'] = anchor.getAttribute('href');\n  return metadata;\n}\nfunction _getButtonMetadata(target) {\n  const metadata = {};\n  metadata['content'] = (target.textContent || '').trim();\n  const dataset = _gatherDatasetProperties(target);\n  Object.assign(metadata, dataset);\n  return metadata;\n}\nfunction _gatherDatasetProperties(el) {\n  const dataset = {};\n  if (!el) {\n    return dataset;\n  }\n  const attr = el === null || el === void 0 ? void 0 : el.dataset;\n  if (!attr) {\n    return dataset;\n  }\n  for (const key in attr) {\n    dataset[`data-${key}`] = attr[key] || '';\n  }\n  return dataset;\n}\nfunction _truncateString(str, maxLength) {\n  if (!str) return null;\n  return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n}\nfunction _isOutboundLink(metadata) {\n  var _a;\n  if (Array.isArray(metadata['classList']) && ((_a = metadata['classList']) === null || _a === void 0 ? void 0 : _a.includes('statsig-ctr-capture'))) {\n    return true;\n  }\n  const href = metadata['href'];\n  if (href) {\n    try {\n      const currentUrl = (0, commonUtils_1._getSafeUrl)();\n      const linkUrl = new URL(href);\n      return currentUrl.host !== linkUrl.host;\n    } catch (_b) {\n      // Invalid URL, treat as non-outbound\n      return false;\n    }\n  }\n  return false;\n}\nfunction _getSafeMetadataAttributes(elem) {\n  const metadata = {};\n  metadata['class'] = _normalizeClassAttribute(_truncateString(elem.getAttribute('class'), MAX_ATTRIBUTE_LENGTH) || '');\n  metadata['id'] = _truncateString(elem.getAttribute('id'), MAX_ATTRIBUTE_LENGTH);\n  metadata['ariaLabel'] = _truncateString(elem.getAttribute('aria-label'), MAX_ATTRIBUTE_LENGTH);\n  metadata['name'] = _truncateString(elem.getAttribute('name'), MAX_ATTRIBUTE_LENGTH);\n  return metadata;\n}\nfunction _getMetadataFromElement(target) {\n  const metadata = {};\n  const safeAttributes = _getSafeMetadataAttributes(target);\n  Object.assign(metadata, safeAttributes);\n  const classList = Array.from(target.classList);\n  metadata['classList'] = classList.length > 0 ? classList.slice(0, MAX_CLASS_LIST_LENGTH) : null;\n  metadata['selector'] = _generateCssSelector(target);\n  return metadata;\n}\nexports._getMetadataFromElement = _getMetadataFromElement;\nfunction _normalizeClassAttribute(className) {\n  return className.replace(/\\s+/g, ' ').trim();\n}\nfunction hasNextSiblingWithSameTag(element) {\n  let sibling = element.nextElementSibling;\n  while (sibling) {\n    if (sibling.tagName === element.tagName) {\n      return true;\n    }\n    sibling = sibling.nextElementSibling;\n  }\n  return false;\n}\nfunction getElementSelector(element) {\n  const tagName = element.tagName.toLowerCase();\n  // 1. Use ID if available\n  if (element.id) {\n    return `#${element.id}`;\n  }\n  // 2. Build class-based selector\n  let selector = tagName;\n  if (element.className && typeof element.className === 'string') {\n    const classes = element.className.trim().split(/\\s+/);\n    if (classes.length > 0 && classes[0] !== '') {\n      selector += '.' + classes.join('.');\n    }\n  }\n  const parent = element.parentElement;\n  if (parent && parent.children.length > 1) {\n    let nthChild = 1;\n    let nthOfType = 1;\n    let sibling = element.previousElementSibling;\n    while (sibling) {\n      nthChild++;\n      if (sibling.tagName === element.tagName) {\n        nthOfType++;\n      }\n      sibling = sibling.previousElementSibling;\n    }\n    selector += `:nth-child(${nthChild})`;\n    // Only add nth-of-type if there are other elements with the same tag\n    if (nthOfType > 1 || hasNextSiblingWithSameTag(element)) {\n      selector += `:nth-of-type(${nthOfType})`;\n    }\n  }\n  return selector;\n}\nfunction _generateCssSelector(element) {\n  if (!element) {\n    return '';\n  }\n  // Handle case where element has no parent (e.g., detached element)\n  if (!element.parentNode) {\n    const tagName = element.tagName.toLowerCase();\n    if (element.id) {\n      return `#${element.id}`;\n    }\n    let selector = tagName;\n    if (element.className && typeof element.className === 'string') {\n      const classes = element.className.trim().split(/\\s+/);\n      if (classes.length > 0 && classes[0] !== '') {\n        selector += '.' + classes.join('.');\n      }\n    }\n    return selector;\n  }\n  // Build the full selector path\n  const selectors = [];\n  let currentElement = element;\n  let depth = 0;\n  while (currentElement && currentElement.nodeType === Node.ELEMENT_NODE && depth < MAX_SELECTOR_DEPTH) {\n    const selector = getElementSelector(currentElement);\n    selectors.unshift(selector);\n    // Stop if we found an ID (since IDs should be unique)\n    if (currentElement.id) {\n      break;\n    }\n    currentElement = currentElement.parentElement;\n    // Stop at document body to avoid going too far up\n    if (currentElement && currentElement.tagName.toLowerCase() === 'body') {\n      break;\n    }\n    depth++;\n  }\n  return selectors.join(' > ');\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","_getMetadataFromElement","_gatherCopyEventData","_gatherEventData","client_core_1","require","commonUtils_1","MAX_ATTRIBUTE_LENGTH","MAX_CLASS_LIST_LENGTH","MAX_SELECTOR_DEPTH","target","_getSanitizedPageUrl","tagName","toLowerCase","_isSensitiveElement","metadata","_getSafeMetadataAttributes","elementMetadata","assign","_getFormMetadata","_getInputMetadata","anchor","_getAnchorNodeInHierarchy","_getAnchorMetadata","_getButtonMetadata","_isOutboundLink","e","_a","_b","selectedText","_getWindowSafe","getSelection","toString","_sanitizeString","clipType","type","includes","getAttribute","textContent","trim","dataset","_gatherDatasetProperties","el","attr","key","_truncateString","str","maxLength","length","substring","Array","isArray","href","currentUrl","_getSafeUrl","linkUrl","URL","host","elem","_normalizeClassAttribute","safeAttributes","classList","from","slice","_generateCssSelector","className","replace","hasNextSiblingWithSameTag","element","sibling","nextElementSibling","getElementSelector","id","selector","classes","split","join","parent","parentElement","children","nthChild","nthOfType","previousElementSibling","parentNode","selectors","currentElement","depth","nodeType","Node","ELEMENT_NODE","unshift"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/web-analytics/src/utils/eventUtils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._getMetadataFromElement = exports._gatherCopyEventData = exports._gatherEventData = void 0;\nconst client_core_1 = require(\"@statsig/client-core\");\nconst commonUtils_1 = require(\"./commonUtils\");\nconst MAX_ATTRIBUTE_LENGTH = 1000;\nconst MAX_CLASS_LIST_LENGTH = 100;\nconst MAX_SELECTOR_DEPTH = 50;\nfunction _gatherEventData(target) {\n    const value = (0, commonUtils_1._getSanitizedPageUrl)() || '';\n    const tagName = target.tagName.toLowerCase();\n    // If the element is sensitive, we only gather safe attribute fields\n    if (_isSensitiveElement(target)) {\n        return { value, metadata: _getSafeMetadataAttributes(target) };\n    }\n    const metadata = {};\n    metadata['tagName'] = tagName;\n    const elementMetadata = _getMetadataFromElement(target);\n    Object.assign(metadata, elementMetadata);\n    if (tagName === 'form') {\n        Object.assign(metadata, _getFormMetadata(target));\n    }\n    if (tagName === 'input') {\n        Object.assign(metadata, _getInputMetadata(target));\n    }\n    const anchor = (0, commonUtils_1._getAnchorNodeInHierarchy)(target);\n    if (anchor) {\n        Object.assign(metadata, _getAnchorMetadata(anchor));\n    }\n    if (tagName === 'button' || anchor) {\n        Object.assign(metadata, _getButtonMetadata(anchor || target));\n    }\n    if (_isOutboundLink(metadata)) {\n        metadata['isOutbound'] = 'true';\n    }\n    return { value, metadata };\n}\nexports._gatherEventData = _gatherEventData;\nfunction _gatherCopyEventData(e) {\n    var _a, _b;\n    const selectedText = (_b = (_a = (0, client_core_1._getWindowSafe)()) === null || _a === void 0 ? void 0 : _a.getSelection()) === null || _b === void 0 ? void 0 : _b.toString();\n    const metadata = {};\n    metadata['selectedText'] = (0, commonUtils_1._sanitizeString)(selectedText);\n    const clipType = e.type || 'clipboard';\n    metadata['clipType'] = clipType;\n    return metadata;\n}\nexports._gatherCopyEventData = _gatherCopyEventData;\nfunction _isSensitiveElement(target) {\n    return ((target.tagName.toLowerCase() === 'input' &&\n        ['button', 'checkbox', 'submit', 'reset'].includes(target.getAttribute('type') || '')) ||\n        target.tagName.toLowerCase() === 'textarea' ||\n        target.tagName.toLowerCase() === 'select' ||\n        target.getAttribute('contenteditable') === 'true');\n}\nfunction _getFormMetadata(target) {\n    var _a;\n    const metadata = {};\n    metadata['action'] = target.getAttribute('action');\n    metadata['method'] = (_a = target.getAttribute('method')) !== null && _a !== void 0 ? _a : 'GET';\n    metadata['formName'] = target.getAttribute('name');\n    metadata['formId'] = target.getAttribute('id');\n    return metadata;\n}\nfunction _getInputMetadata(target) {\n    const metadata = {};\n    metadata['content'] = target.value;\n    metadata['inputName'] = target.getAttribute('name');\n    return metadata;\n}\nfunction _getAnchorMetadata(anchor) {\n    const metadata = {};\n    metadata['href'] = anchor.getAttribute('href');\n    return metadata;\n}\nfunction _getButtonMetadata(target) {\n    const metadata = {};\n    metadata['content'] = (target.textContent || '').trim();\n    const dataset = _gatherDatasetProperties(target);\n    Object.assign(metadata, dataset);\n    return metadata;\n}\nfunction _gatherDatasetProperties(el) {\n    const dataset = {};\n    if (!el) {\n        return dataset;\n    }\n    const attr = el === null || el === void 0 ? void 0 : el.dataset;\n    if (!attr) {\n        return dataset;\n    }\n    for (const key in attr) {\n        dataset[`data-${key}`] = attr[key] || '';\n    }\n    return dataset;\n}\nfunction _truncateString(str, maxLength) {\n    if (!str)\n        return null;\n    return str.length > maxLength ? str.substring(0, maxLength) + '...' : str;\n}\nfunction _isOutboundLink(metadata) {\n    var _a;\n    if (Array.isArray(metadata['classList']) &&\n        ((_a = metadata['classList']) === null || _a === void 0 ? void 0 : _a.includes('statsig-ctr-capture'))) {\n        return true;\n    }\n    const href = metadata['href'];\n    if (href) {\n        try {\n            const currentUrl = (0, commonUtils_1._getSafeUrl)();\n            const linkUrl = new URL(href);\n            return currentUrl.host !== linkUrl.host;\n        }\n        catch (_b) {\n            // Invalid URL, treat as non-outbound\n            return false;\n        }\n    }\n    return false;\n}\nfunction _getSafeMetadataAttributes(elem) {\n    const metadata = {};\n    metadata['class'] = _normalizeClassAttribute(_truncateString(elem.getAttribute('class'), MAX_ATTRIBUTE_LENGTH) || '');\n    metadata['id'] = _truncateString(elem.getAttribute('id'), MAX_ATTRIBUTE_LENGTH);\n    metadata['ariaLabel'] = _truncateString(elem.getAttribute('aria-label'), MAX_ATTRIBUTE_LENGTH);\n    metadata['name'] = _truncateString(elem.getAttribute('name'), MAX_ATTRIBUTE_LENGTH);\n    return metadata;\n}\nfunction _getMetadataFromElement(target) {\n    const metadata = {};\n    const safeAttributes = _getSafeMetadataAttributes(target);\n    Object.assign(metadata, safeAttributes);\n    const classList = Array.from(target.classList);\n    metadata['classList'] =\n        classList.length > 0 ? classList.slice(0, MAX_CLASS_LIST_LENGTH) : null;\n    metadata['selector'] = _generateCssSelector(target);\n    return metadata;\n}\nexports._getMetadataFromElement = _getMetadataFromElement;\nfunction _normalizeClassAttribute(className) {\n    return className.replace(/\\s+/g, ' ').trim();\n}\nfunction hasNextSiblingWithSameTag(element) {\n    let sibling = element.nextElementSibling;\n    while (sibling) {\n        if (sibling.tagName === element.tagName) {\n            return true;\n        }\n        sibling = sibling.nextElementSibling;\n    }\n    return false;\n}\nfunction getElementSelector(element) {\n    const tagName = element.tagName.toLowerCase();\n    // 1. Use ID if available\n    if (element.id) {\n        return `#${element.id}`;\n    }\n    // 2. Build class-based selector\n    let selector = tagName;\n    if (element.className && typeof element.className === 'string') {\n        const classes = element.className.trim().split(/\\s+/);\n        if (classes.length > 0 && classes[0] !== '') {\n            selector += '.' + classes.join('.');\n        }\n    }\n    const parent = element.parentElement;\n    if (parent && parent.children.length > 1) {\n        let nthChild = 1;\n        let nthOfType = 1;\n        let sibling = element.previousElementSibling;\n        while (sibling) {\n            nthChild++;\n            if (sibling.tagName === element.tagName) {\n                nthOfType++;\n            }\n            sibling = sibling.previousElementSibling;\n        }\n        selector += `:nth-child(${nthChild})`;\n        // Only add nth-of-type if there are other elements with the same tag\n        if (nthOfType > 1 || hasNextSiblingWithSameTag(element)) {\n            selector += `:nth-of-type(${nthOfType})`;\n        }\n    }\n    return selector;\n}\nfunction _generateCssSelector(element) {\n    if (!element) {\n        return '';\n    }\n    // Handle case where element has no parent (e.g., detached element)\n    if (!element.parentNode) {\n        const tagName = element.tagName.toLowerCase();\n        if (element.id) {\n            return `#${element.id}`;\n        }\n        let selector = tagName;\n        if (element.className && typeof element.className === 'string') {\n            const classes = element.className.trim().split(/\\s+/);\n            if (classes.length > 0 && classes[0] !== '') {\n                selector += '.' + classes.join('.');\n            }\n        }\n        return selector;\n    }\n    // Build the full selector path\n    const selectors = [];\n    let currentElement = element;\n    let depth = 0;\n    while (currentElement &&\n        currentElement.nodeType === Node.ELEMENT_NODE &&\n        depth < MAX_SELECTOR_DEPTH) {\n        const selector = getElementSelector(currentElement);\n        selectors.unshift(selector);\n        // Stop if we found an ID (since IDs should be unique)\n        if (currentElement.id) {\n            break;\n        }\n        currentElement = currentElement.parentElement;\n        // Stop at document body to avoid going too far up\n        if (currentElement && currentElement.tagName.toLowerCase() === 'body') {\n            break;\n        }\n        depth++;\n    }\n    return selectors.join(' > ');\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}