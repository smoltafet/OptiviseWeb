{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst client_core_1 = require(\"@statsig/client-core\");\nconst V1InitializeContainer_1 = require(\"./V1InitializeContainer\");\nconst V2InitializeContainer_1 = require(\"./V2InitializeContainer\");\nclass EvaluationStore {\n  constructor(_sdkKey) {\n    this._sdkKey = _sdkKey;\n    this._rawValues = null;\n    this._values = null;\n    this._source = 'Uninitialized';\n    this._lcut = 0;\n    this._receivedAt = 0;\n    this._bootstrapMetadata = null;\n    this._warnings = new Set();\n  }\n  reset() {\n    this._values = null;\n    this._rawValues = null;\n    this._source = 'Loading';\n    this._lcut = 0;\n    this._receivedAt = 0;\n    this._bootstrapMetadata = null;\n    this._warnings.clear();\n  }\n  finalize() {\n    if (this._values) {\n      return;\n    }\n    this._source = 'NoValues';\n  }\n  getValues() {\n    return this._rawValues ? (0, client_core_1._typedJsonParse)(this._rawValues, 'has_updates', 'EvaluationStoreValues') : null;\n  }\n  setValues(result, user) {\n    var _a, _b;\n    if (!result) {\n      return false;\n    }\n    const values = (0, client_core_1._typedJsonParse)(result.data, 'has_updates', 'EvaluationResponse');\n    if (values == null) {\n      return false;\n    }\n    this._source = result.source;\n    if ((values === null || values === void 0 ? void 0 : values.has_updates) !== true) {\n      return true;\n    }\n    const updatedLcut = (_a = values.time) !== null && _a !== void 0 ? _a : 0;\n    if (updatedLcut < this._lcut) {\n      return true;\n    }\n    this._rawValues = result.data;\n    this._lcut = values.time;\n    this._receivedAt = result.receivedAt;\n    if (values.response_format === 'init-v2') {\n      this._values = new V2InitializeContainer_1.V2InitializeContainer(values);\n    } else {\n      this._values = new V1InitializeContainer_1.V1InitializeContainer(values);\n    }\n    this._bootstrapMetadata = this._extractBootstrapMetadata(result.source, values);\n    if (result.source && values.user) {\n      this._setWarningState(user, values);\n    }\n    client_core_1.SDKFlags.setFlags(this._sdkKey, (_b = values.sdk_flags) !== null && _b !== void 0 ? _b : {});\n    return true;\n  }\n  getWarnings() {\n    if (this._warnings.size === 0) {\n      return undefined;\n    }\n    return Array.from(this._warnings);\n  }\n  getGate(name) {\n    const res = this._values ? this._values.getGate(name) : null;\n    return this._getDetailedStoreResult(res);\n  }\n  getConfig(name) {\n    const res = this._values ? this._values.getConfig(name) : null;\n    return this._getDetailedStoreResult(res);\n  }\n  getConfigList() {\n    if (!this._values) {\n      return [];\n    }\n    return this._values.getConfigList();\n  }\n  getLayer(name) {\n    const res = this._values ? this._values.getLayer(name) : null;\n    return this._getDetailedStoreResult(res);\n  }\n  getParamStore(name) {\n    const res = this._values ? this._values.getParamStore(name) : null;\n    return this._getDetailedStoreResult(res);\n  }\n  getSource() {\n    return this._source;\n  }\n  getExposureMapping() {\n    var _a;\n    return (_a = this._values) === null || _a === void 0 ? void 0 : _a.getExposureMapping();\n  }\n  _extractBootstrapMetadata(source, values) {\n    if (source !== 'Bootstrap') {\n      return null;\n    }\n    const bootstrapMetadata = {};\n    if (values.user) {\n      bootstrapMetadata.user = values.user;\n    }\n    if (values.sdkInfo) {\n      bootstrapMetadata.generatorSDKInfo = values.sdkInfo;\n    }\n    bootstrapMetadata.lcut = values.time;\n    return bootstrapMetadata;\n  }\n  _getDetailedStoreResult(result) {\n    return {\n      result,\n      details: this._getDetails(result == null)\n    };\n  }\n  _setWarningState(user, values) {\n    var _a, _b;\n    const stableID = client_core_1.StableID.get(this._sdkKey);\n    if (((_a = user.customIDs) === null || _a === void 0 ? void 0 : _a.stableID) !== stableID && (\n    // don't throw if they're both undefined\n    ((_b = user.customIDs) === null || _b === void 0 ? void 0 : _b.stableID) || stableID)) {\n      this._warnings.add('StableIDMismatch');\n      return;\n    }\n    if ('user' in values) {\n      const bootstrapUser = values['user'];\n      const userForComparison = Object.assign(Object.assign({}, user), {\n        analyticsOnlyMetadata: undefined,\n        privateAttributes: undefined\n      });\n      if ((0, client_core_1._getFullUserHash)(userForComparison) !== (0, client_core_1._getFullUserHash)(bootstrapUser)) {\n        this._warnings.add('PartialUserMatch');\n      }\n    }\n  }\n  getCurrentSourceDetails() {\n    if (this._source === 'Uninitialized' || this._source === 'NoValues') {\n      return {\n        reason: this._source\n      };\n    }\n    const sourceDetails = {\n      reason: this._source,\n      lcut: this._lcut,\n      receivedAt: this._receivedAt\n    };\n    if (this._warnings.size > 0) {\n      sourceDetails.warnings = Array.from(this._warnings);\n    }\n    return sourceDetails;\n  }\n  _getDetails(isUnrecognized) {\n    var _a, _b;\n    const sourceDetails = this.getCurrentSourceDetails();\n    let reason = sourceDetails.reason;\n    const warnings = (_a = sourceDetails.warnings) !== null && _a !== void 0 ? _a : [];\n    if (this._source === 'Bootstrap' && warnings.length > 0) {\n      reason = reason + warnings[0];\n    }\n    if (reason !== 'Uninitialized' && reason !== 'NoValues') {\n      const subreason = isUnrecognized ? 'Unrecognized' : 'Recognized';\n      reason = `${reason}:${subreason}`;\n    }\n    const bootstrapMetadata = this._source === 'Bootstrap' ? (_b = this._bootstrapMetadata) !== null && _b !== void 0 ? _b : undefined : undefined;\n    if (bootstrapMetadata) {\n      sourceDetails.bootstrapMetadata = bootstrapMetadata;\n    }\n    return Object.assign(Object.assign({}, sourceDetails), {\n      reason\n    });\n  }\n}\nexports.default = EvaluationStore;","map":{"version":3,"names":["Object","defineProperty","exports","value","client_core_1","require","V1InitializeContainer_1","V2InitializeContainer_1","EvaluationStore","constructor","_sdkKey","_rawValues","_values","_source","_lcut","_receivedAt","_bootstrapMetadata","_warnings","Set","reset","clear","finalize","getValues","_typedJsonParse","setValues","result","user","_a","_b","values","data","source","has_updates","updatedLcut","time","receivedAt","response_format","V2InitializeContainer","V1InitializeContainer","_extractBootstrapMetadata","_setWarningState","SDKFlags","setFlags","sdk_flags","getWarnings","size","undefined","Array","from","getGate","name","res","_getDetailedStoreResult","getConfig","getConfigList","getLayer","getParamStore","getSource","getExposureMapping","bootstrapMetadata","sdkInfo","generatorSDKInfo","lcut","details","_getDetails","stableID","StableID","get","customIDs","add","bootstrapUser","userForComparison","assign","analyticsOnlyMetadata","privateAttributes","_getFullUserHash","getCurrentSourceDetails","reason","sourceDetails","warnings","isUnrecognized","length","subreason","default"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/js-client/src/EvaluationStore.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst client_core_1 = require(\"@statsig/client-core\");\nconst V1InitializeContainer_1 = require(\"./V1InitializeContainer\");\nconst V2InitializeContainer_1 = require(\"./V2InitializeContainer\");\nclass EvaluationStore {\n    constructor(_sdkKey) {\n        this._sdkKey = _sdkKey;\n        this._rawValues = null;\n        this._values = null;\n        this._source = 'Uninitialized';\n        this._lcut = 0;\n        this._receivedAt = 0;\n        this._bootstrapMetadata = null;\n        this._warnings = new Set();\n    }\n    reset() {\n        this._values = null;\n        this._rawValues = null;\n        this._source = 'Loading';\n        this._lcut = 0;\n        this._receivedAt = 0;\n        this._bootstrapMetadata = null;\n        this._warnings.clear();\n    }\n    finalize() {\n        if (this._values) {\n            return;\n        }\n        this._source = 'NoValues';\n    }\n    getValues() {\n        return this._rawValues\n            ? (0, client_core_1._typedJsonParse)(this._rawValues, 'has_updates', 'EvaluationStoreValues')\n            : null;\n    }\n    setValues(result, user) {\n        var _a, _b;\n        if (!result) {\n            return false;\n        }\n        const values = (0, client_core_1._typedJsonParse)(result.data, 'has_updates', 'EvaluationResponse');\n        if (values == null) {\n            return false;\n        }\n        this._source = result.source;\n        if ((values === null || values === void 0 ? void 0 : values.has_updates) !== true) {\n            return true;\n        }\n        const updatedLcut = (_a = values.time) !== null && _a !== void 0 ? _a : 0;\n        if (updatedLcut < this._lcut) {\n            return true;\n        }\n        this._rawValues = result.data;\n        this._lcut = values.time;\n        this._receivedAt = result.receivedAt;\n        if (values.response_format === 'init-v2') {\n            this._values = new V2InitializeContainer_1.V2InitializeContainer(values);\n        }\n        else {\n            this._values = new V1InitializeContainer_1.V1InitializeContainer(values);\n        }\n        this._bootstrapMetadata = this._extractBootstrapMetadata(result.source, values);\n        if (result.source && values.user) {\n            this._setWarningState(user, values);\n        }\n        client_core_1.SDKFlags.setFlags(this._sdkKey, (_b = values.sdk_flags) !== null && _b !== void 0 ? _b : {});\n        return true;\n    }\n    getWarnings() {\n        if (this._warnings.size === 0) {\n            return undefined;\n        }\n        return Array.from(this._warnings);\n    }\n    getGate(name) {\n        const res = this._values ? this._values.getGate(name) : null;\n        return this._getDetailedStoreResult(res);\n    }\n    getConfig(name) {\n        const res = this._values ? this._values.getConfig(name) : null;\n        return this._getDetailedStoreResult(res);\n    }\n    getConfigList() {\n        if (!this._values) {\n            return [];\n        }\n        return this._values.getConfigList();\n    }\n    getLayer(name) {\n        const res = this._values ? this._values.getLayer(name) : null;\n        return this._getDetailedStoreResult(res);\n    }\n    getParamStore(name) {\n        const res = this._values ? this._values.getParamStore(name) : null;\n        return this._getDetailedStoreResult(res);\n    }\n    getSource() {\n        return this._source;\n    }\n    getExposureMapping() {\n        var _a;\n        return (_a = this._values) === null || _a === void 0 ? void 0 : _a.getExposureMapping();\n    }\n    _extractBootstrapMetadata(source, values) {\n        if (source !== 'Bootstrap') {\n            return null;\n        }\n        const bootstrapMetadata = {};\n        if (values.user) {\n            bootstrapMetadata.user = values.user;\n        }\n        if (values.sdkInfo) {\n            bootstrapMetadata.generatorSDKInfo = values.sdkInfo;\n        }\n        bootstrapMetadata.lcut = values.time;\n        return bootstrapMetadata;\n    }\n    _getDetailedStoreResult(result) {\n        return {\n            result,\n            details: this._getDetails(result == null),\n        };\n    }\n    _setWarningState(user, values) {\n        var _a, _b;\n        const stableID = client_core_1.StableID.get(this._sdkKey);\n        if (((_a = user.customIDs) === null || _a === void 0 ? void 0 : _a.stableID) !== stableID && // don't throw if they're both undefined\n            (((_b = user.customIDs) === null || _b === void 0 ? void 0 : _b.stableID) || stableID)) {\n            this._warnings.add('StableIDMismatch');\n            return;\n        }\n        if ('user' in values) {\n            const bootstrapUser = values['user'];\n            const userForComparison = Object.assign(Object.assign({}, user), { analyticsOnlyMetadata: undefined, privateAttributes: undefined });\n            if ((0, client_core_1._getFullUserHash)(userForComparison) !== (0, client_core_1._getFullUserHash)(bootstrapUser)) {\n                this._warnings.add('PartialUserMatch');\n            }\n        }\n    }\n    getCurrentSourceDetails() {\n        if (this._source === 'Uninitialized' || this._source === 'NoValues') {\n            return { reason: this._source };\n        }\n        const sourceDetails = {\n            reason: this._source,\n            lcut: this._lcut,\n            receivedAt: this._receivedAt,\n        };\n        if (this._warnings.size > 0) {\n            sourceDetails.warnings = Array.from(this._warnings);\n        }\n        return sourceDetails;\n    }\n    _getDetails(isUnrecognized) {\n        var _a, _b;\n        const sourceDetails = this.getCurrentSourceDetails();\n        let reason = sourceDetails.reason;\n        const warnings = (_a = sourceDetails.warnings) !== null && _a !== void 0 ? _a : [];\n        if (this._source === 'Bootstrap' && warnings.length > 0) {\n            reason = reason + warnings[0];\n        }\n        if (reason !== 'Uninitialized' && reason !== 'NoValues') {\n            const subreason = isUnrecognized ? 'Unrecognized' : 'Recognized';\n            reason = `${reason}:${subreason}`;\n        }\n        const bootstrapMetadata = this._source === 'Bootstrap'\n            ? (_b = this._bootstrapMetadata) !== null && _b !== void 0 ? _b : undefined\n            : undefined;\n        if (bootstrapMetadata) {\n            sourceDetails.bootstrapMetadata = bootstrapMetadata;\n        }\n        return Object.assign(Object.assign({}, sourceDetails), { reason });\n    }\n}\nexports.default = EvaluationStore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}