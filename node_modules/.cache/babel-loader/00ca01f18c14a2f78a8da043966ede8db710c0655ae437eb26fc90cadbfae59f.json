{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StatsigClientBase = void 0;\nrequire(\"./$_StatsigGlobal\");\nconst __StatsigGlobal_1 = require(\"./$_StatsigGlobal\");\nconst ErrorBoundary_1 = require(\"./ErrorBoundary\");\nconst EventLogger_1 = require(\"./EventLogger\");\nconst Log_1 = require(\"./Log\");\nconst MemoKey_1 = require(\"./MemoKey\");\nconst SafeJs_1 = require(\"./SafeJs\");\nconst SessionID_1 = require(\"./SessionID\");\nconst StableID_1 = require(\"./StableID\");\nconst StatsigOptionsCommon_1 = require(\"./StatsigOptionsCommon\");\nconst StorageProvider_1 = require(\"./StorageProvider\");\nconst MAX_MEMO_CACHE_SIZE = 3000;\nclass StatsigClientBase {\n  constructor(sdkKey, adapter, network, options) {\n    var _a, _b, _c, _d;\n    this.loadingStatus = 'Uninitialized';\n    this._initializePromise = null;\n    this._listeners = {};\n    const emitter = this.$emt.bind(this);\n    (options === null || options === void 0 ? void 0 : options.logLevel) != null && (Log_1.Log.level = options.logLevel);\n    (options === null || options === void 0 ? void 0 : options.disableStorage) && StorageProvider_1.Storage._setDisabled(true);\n    (options === null || options === void 0 ? void 0 : options.initialSessionID) && SessionID_1.StatsigSession.overrideInitialSessionID(options.initialSessionID, sdkKey);\n    (options === null || options === void 0 ? void 0 : options.storageProvider) && StorageProvider_1.Storage._setProvider(options.storageProvider);\n    (options === null || options === void 0 ? void 0 : options.enableCookies) && StableID_1.StableID._setCookiesEnabled(sdkKey, options.enableCookies);\n    (options === null || options === void 0 ? void 0 : options.disableStableID) && StableID_1.StableID._setDisabled(sdkKey, true);\n    this._sdkKey = sdkKey;\n    this._options = options !== null && options !== void 0 ? options : {};\n    this._memoCache = {};\n    this.overrideAdapter = (_a = options === null || options === void 0 ? void 0 : options.overrideAdapter) !== null && _a !== void 0 ? _a : null;\n    this._logger = new EventLogger_1.EventLogger(sdkKey, emitter, network, options);\n    this._errorBoundary = new ErrorBoundary_1.ErrorBoundary(sdkKey, options, emitter);\n    this._errorBoundary.wrap(this);\n    this._errorBoundary.wrap(adapter);\n    this._errorBoundary.wrap(this._logger);\n    network.setErrorBoundary(this._errorBoundary);\n    this.dataAdapter = adapter;\n    this.dataAdapter.attach(sdkKey, options, network);\n    this.storageProvider = StorageProvider_1.Storage;\n    (_d = (_c = (_b = this.overrideAdapter) === null || _b === void 0 ? void 0 : _b.loadFromStorage) === null || _c === void 0 ? void 0 : _c.call(_b)) === null || _d === void 0 ? void 0 : _d.catch(e => this._errorBoundary.logError('OA::loadFromStorage', e));\n    this._primeReadyRipcord();\n    _assignGlobalInstance(sdkKey, this);\n  }\n  /**\n   * Updates runtime configuration options for the SDK, allowing toggling of certain behaviors such as logging and storage to comply with user preferences or regulations such as GDPR.\n   *\n   * @param {StatsigRuntimeMutableOptions} options - The configuration options that dictate the runtime behavior of the SDK.\n   */\n  updateRuntimeOptions(options) {\n    if (options.loggingEnabled) {\n      this._options.loggingEnabled = options.loggingEnabled;\n      this._logger.setLoggingEnabled(options.loggingEnabled);\n    } else if (options.disableLogging != null) {\n      this._options.disableLogging = options.disableLogging;\n      this._logger.setLoggingEnabled(options.disableLogging ? 'disabled' : 'browser-only');\n    }\n    if (options.disableStorage != null) {\n      this._options.disableStorage = options.disableStorage;\n      StorageProvider_1.Storage._setDisabled(options.disableStorage);\n    }\n    if (options.enableCookies != null) {\n      this._options.enableCookies = options.enableCookies;\n      StableID_1.StableID._setCookiesEnabled(this._sdkKey, options.enableCookies);\n    }\n    if (options.logEventCompressionMode) {\n      this._logger.setLogEventCompressionMode(options.logEventCompressionMode);\n    } else if (options.disableCompression) {\n      this._logger.setLogEventCompressionMode(StatsigOptionsCommon_1.LogEventCompressionMode.Disabled);\n    }\n  }\n  /**\n   * Flushes any currently queued events.\n   */\n  flush() {\n    return this._logger.flush();\n  }\n  /**\n   * Gracefully shuts down the SDK, ensuring that all pending events are send before the SDK stops.\n   * This function emits a 'pre_shutdown' event and then waits for the logger to complete its shutdown process.\n   *\n   * @returns {Promise<void>} A promise that resolves when all shutdown procedures, including logging shutdown, have been completed.\n   */\n  shutdown() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.$emt({\n        name: 'pre_shutdown'\n      });\n      this._setStatus('Uninitialized', null);\n      this._initializePromise = null;\n      yield this._logger.stop();\n    });\n  }\n  /**\n   * Subscribes a callback function to a specific {@link StatsigClientEvent} or all StatsigClientEvents if the wildcard '*' is used.\n   * Once subscribed, the listener callback will be invoked whenever the specified event is emitted.\n   *\n   * @param {StatsigClientEventName} event - The name of the event to subscribe to, or '*' to subscribe to all events.\n   * @param {StatsigClientEventCallback<T>} listener - The callback function to execute when the event occurs. The function receives event-specific data as its parameter.\n   * @see {@link off} for unsubscribing from events.\n   */\n  on(event, listener) {\n    if (!this._listeners[event]) {\n      this._listeners[event] = [];\n    }\n    this._listeners[event].push(listener);\n  }\n  /**\n   * Unsubscribes a previously registered callback function from a specific {@link StatsigClientEvent} or all StatsigClientEvents if the wildcard '*' is used.\n   *\n   * @param {StatsigClientEventName} event - The name of the event from which to unsubscribe, or '*' to unsubscribe from all events.\n   * @param {StatsigClientEventCallback<T>} listener - The callback function to remove from the event's notification list.\n   * @see {@link on} for subscribing to events.\n   */\n  off(event, listener) {\n    if (this._listeners[event]) {\n      const index = this._listeners[event].indexOf(listener);\n      if (index !== -1) {\n        this._listeners[event].splice(index, 1);\n      }\n    }\n  }\n  $on(event, listener) {\n    listener.__isInternal = true;\n    this.on(event, listener);\n  }\n  $emt(event) {\n    var _a;\n    const barrier = listener => {\n      try {\n        listener(event);\n      } catch (error) {\n        if (listener.__isInternal === true) {\n          this._errorBoundary.logError(`__emit:${event.name}`, error);\n          return;\n        }\n        Log_1.Log.error(`An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.`, event);\n      }\n    };\n    if (this._listeners[event.name]) {\n      this._listeners[event.name].forEach(l => barrier(l));\n    }\n    (_a = this._listeners['*']) === null || _a === void 0 ? void 0 : _a.forEach(barrier);\n  }\n  _setStatus(newStatus, values) {\n    this.loadingStatus = newStatus;\n    this._memoCache = {};\n    this.$emt({\n      name: 'values_updated',\n      status: newStatus,\n      values\n    });\n  }\n  _enqueueExposure(name, exposure, options) {\n    if ((options === null || options === void 0 ? void 0 : options.disableExposureLog) === true) {\n      this._logger.incrementNonExposureCount(name);\n      return;\n    }\n    this._logger.enqueue(exposure);\n  }\n  _memoize(prefix, fn) {\n    return (name, options) => {\n      if (this._options.disableEvaluationMemoization) {\n        return fn(name, options);\n      }\n      const memoKey = (0, MemoKey_1.createMemoKey)(prefix, name, options);\n      if (!memoKey) {\n        return fn(name, options);\n      }\n      if (!(memoKey in this._memoCache)) {\n        if (Object.keys(this._memoCache).length >= MAX_MEMO_CACHE_SIZE) {\n          this._memoCache = {};\n        }\n        this._memoCache[memoKey] = fn(name, options);\n      }\n      return this._memoCache[memoKey];\n    };\n  }\n}\nexports.StatsigClientBase = StatsigClientBase;\nfunction _assignGlobalInstance(sdkKey, client) {\n  var _a;\n  if ((0, SafeJs_1._isServerEnv)()) {\n    return;\n  }\n  const statsigGlobal = (0, __StatsigGlobal_1._getStatsigGlobal)();\n  const instances = (_a = statsigGlobal.instances) !== null && _a !== void 0 ? _a : {};\n  const inst = client;\n  if (instances[sdkKey] != null) {\n    Log_1.Log.warn('Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.');\n  }\n  instances[sdkKey] = inst;\n  if (!statsigGlobal.firstInstance) {\n    statsigGlobal.firstInstance = inst;\n  }\n  statsigGlobal.instances = instances;\n  __STATSIG__ = statsigGlobal;\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","StatsigClientBase","require","__StatsigGlobal_1","ErrorBoundary_1","EventLogger_1","Log_1","MemoKey_1","SafeJs_1","SessionID_1","StableID_1","StatsigOptionsCommon_1","StorageProvider_1","MAX_MEMO_CACHE_SIZE","constructor","sdkKey","adapter","network","options","_a","_b","_c","_d","loadingStatus","_initializePromise","_listeners","emitter","$emt","bind","logLevel","Log","level","disableStorage","Storage","_setDisabled","initialSessionID","StatsigSession","overrideInitialSessionID","storageProvider","_setProvider","enableCookies","StableID","_setCookiesEnabled","disableStableID","_sdkKey","_options","_memoCache","overrideAdapter","_logger","EventLogger","_errorBoundary","ErrorBoundary","wrap","setErrorBoundary","dataAdapter","attach","loadFromStorage","call","catch","logError","_primeReadyRipcord","_assignGlobalInstance","updateRuntimeOptions","loggingEnabled","setLoggingEnabled","disableLogging","logEventCompressionMode","setLogEventCompressionMode","disableCompression","LogEventCompressionMode","Disabled","flush","shutdown","name","_setStatus","stop","on","event","listener","push","off","index","indexOf","splice","$on","__isInternal","barrier","error","forEach","l","newStatus","values","status","_enqueueExposure","exposure","disableExposureLog","incrementNonExposureCount","enqueue","_memoize","prefix","fn","disableEvaluationMemoization","memoKey","createMemoKey","keys","length","client","_isServerEnv","statsigGlobal","_getStatsigGlobal","instances","inst","warn","firstInstance","__STATSIG__"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/client-core/src/StatsigClientBase.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatsigClientBase = void 0;\nrequire(\"./$_StatsigGlobal\");\nconst __StatsigGlobal_1 = require(\"./$_StatsigGlobal\");\nconst ErrorBoundary_1 = require(\"./ErrorBoundary\");\nconst EventLogger_1 = require(\"./EventLogger\");\nconst Log_1 = require(\"./Log\");\nconst MemoKey_1 = require(\"./MemoKey\");\nconst SafeJs_1 = require(\"./SafeJs\");\nconst SessionID_1 = require(\"./SessionID\");\nconst StableID_1 = require(\"./StableID\");\nconst StatsigOptionsCommon_1 = require(\"./StatsigOptionsCommon\");\nconst StorageProvider_1 = require(\"./StorageProvider\");\nconst MAX_MEMO_CACHE_SIZE = 3000;\nclass StatsigClientBase {\n    constructor(sdkKey, adapter, network, options) {\n        var _a, _b, _c, _d;\n        this.loadingStatus = 'Uninitialized';\n        this._initializePromise = null;\n        this._listeners = {};\n        const emitter = this.$emt.bind(this);\n        (options === null || options === void 0 ? void 0 : options.logLevel) != null && (Log_1.Log.level = options.logLevel);\n        (options === null || options === void 0 ? void 0 : options.disableStorage) && StorageProvider_1.Storage._setDisabled(true);\n        (options === null || options === void 0 ? void 0 : options.initialSessionID) &&\n            SessionID_1.StatsigSession.overrideInitialSessionID(options.initialSessionID, sdkKey);\n        (options === null || options === void 0 ? void 0 : options.storageProvider) && StorageProvider_1.Storage._setProvider(options.storageProvider);\n        (options === null || options === void 0 ? void 0 : options.enableCookies) &&\n            StableID_1.StableID._setCookiesEnabled(sdkKey, options.enableCookies);\n        (options === null || options === void 0 ? void 0 : options.disableStableID) && StableID_1.StableID._setDisabled(sdkKey, true);\n        this._sdkKey = sdkKey;\n        this._options = options !== null && options !== void 0 ? options : {};\n        this._memoCache = {};\n        this.overrideAdapter = (_a = options === null || options === void 0 ? void 0 : options.overrideAdapter) !== null && _a !== void 0 ? _a : null;\n        this._logger = new EventLogger_1.EventLogger(sdkKey, emitter, network, options);\n        this._errorBoundary = new ErrorBoundary_1.ErrorBoundary(sdkKey, options, emitter);\n        this._errorBoundary.wrap(this);\n        this._errorBoundary.wrap(adapter);\n        this._errorBoundary.wrap(this._logger);\n        network.setErrorBoundary(this._errorBoundary);\n        this.dataAdapter = adapter;\n        this.dataAdapter.attach(sdkKey, options, network);\n        this.storageProvider = StorageProvider_1.Storage;\n        (_d = (_c = (_b = this.overrideAdapter) === null || _b === void 0 ? void 0 : _b.loadFromStorage) === null || _c === void 0 ? void 0 : _c.call(_b)) === null || _d === void 0 ? void 0 : _d.catch((e) => this._errorBoundary.logError('OA::loadFromStorage', e));\n        this._primeReadyRipcord();\n        _assignGlobalInstance(sdkKey, this);\n    }\n    /**\n     * Updates runtime configuration options for the SDK, allowing toggling of certain behaviors such as logging and storage to comply with user preferences or regulations such as GDPR.\n     *\n     * @param {StatsigRuntimeMutableOptions} options - The configuration options that dictate the runtime behavior of the SDK.\n     */\n    updateRuntimeOptions(options) {\n        if (options.loggingEnabled) {\n            this._options.loggingEnabled = options.loggingEnabled;\n            this._logger.setLoggingEnabled(options.loggingEnabled);\n        }\n        else if (options.disableLogging != null) {\n            this._options.disableLogging = options.disableLogging;\n            this._logger.setLoggingEnabled(options.disableLogging ? 'disabled' : 'browser-only');\n        }\n        if (options.disableStorage != null) {\n            this._options.disableStorage = options.disableStorage;\n            StorageProvider_1.Storage._setDisabled(options.disableStorage);\n        }\n        if (options.enableCookies != null) {\n            this._options.enableCookies = options.enableCookies;\n            StableID_1.StableID._setCookiesEnabled(this._sdkKey, options.enableCookies);\n        }\n        if (options.logEventCompressionMode) {\n            this._logger.setLogEventCompressionMode(options.logEventCompressionMode);\n        }\n        else if (options.disableCompression) {\n            this._logger.setLogEventCompressionMode(StatsigOptionsCommon_1.LogEventCompressionMode.Disabled);\n        }\n    }\n    /**\n     * Flushes any currently queued events.\n     */\n    flush() {\n        return this._logger.flush();\n    }\n    /**\n     * Gracefully shuts down the SDK, ensuring that all pending events are send before the SDK stops.\n     * This function emits a 'pre_shutdown' event and then waits for the logger to complete its shutdown process.\n     *\n     * @returns {Promise<void>} A promise that resolves when all shutdown procedures, including logging shutdown, have been completed.\n     */\n    shutdown() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.$emt({ name: 'pre_shutdown' });\n            this._setStatus('Uninitialized', null);\n            this._initializePromise = null;\n            yield this._logger.stop();\n        });\n    }\n    /**\n     * Subscribes a callback function to a specific {@link StatsigClientEvent} or all StatsigClientEvents if the wildcard '*' is used.\n     * Once subscribed, the listener callback will be invoked whenever the specified event is emitted.\n     *\n     * @param {StatsigClientEventName} event - The name of the event to subscribe to, or '*' to subscribe to all events.\n     * @param {StatsigClientEventCallback<T>} listener - The callback function to execute when the event occurs. The function receives event-specific data as its parameter.\n     * @see {@link off} for unsubscribing from events.\n     */\n    on(event, listener) {\n        if (!this._listeners[event]) {\n            this._listeners[event] = [];\n        }\n        this._listeners[event].push(listener);\n    }\n    /**\n     * Unsubscribes a previously registered callback function from a specific {@link StatsigClientEvent} or all StatsigClientEvents if the wildcard '*' is used.\n     *\n     * @param {StatsigClientEventName} event - The name of the event from which to unsubscribe, or '*' to unsubscribe from all events.\n     * @param {StatsigClientEventCallback<T>} listener - The callback function to remove from the event's notification list.\n     * @see {@link on} for subscribing to events.\n     */\n    off(event, listener) {\n        if (this._listeners[event]) {\n            const index = this._listeners[event].indexOf(listener);\n            if (index !== -1) {\n                this._listeners[event].splice(index, 1);\n            }\n        }\n    }\n    $on(event, listener) {\n        listener.__isInternal = true;\n        this.on(event, listener);\n    }\n    $emt(event) {\n        var _a;\n        const barrier = (listener) => {\n            try {\n                listener(event);\n            }\n            catch (error) {\n                if (listener.__isInternal === true) {\n                    this._errorBoundary.logError(`__emit:${event.name}`, error);\n                    return;\n                }\n                Log_1.Log.error(`An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.`, event);\n            }\n        };\n        if (this._listeners[event.name]) {\n            this._listeners[event.name].forEach((l) => barrier(l));\n        }\n        (_a = this._listeners['*']) === null || _a === void 0 ? void 0 : _a.forEach(barrier);\n    }\n    _setStatus(newStatus, values) {\n        this.loadingStatus = newStatus;\n        this._memoCache = {};\n        this.$emt({ name: 'values_updated', status: newStatus, values });\n    }\n    _enqueueExposure(name, exposure, options) {\n        if ((options === null || options === void 0 ? void 0 : options.disableExposureLog) === true) {\n            this._logger.incrementNonExposureCount(name);\n            return;\n        }\n        this._logger.enqueue(exposure);\n    }\n    _memoize(prefix, fn) {\n        return (name, options) => {\n            if (this._options.disableEvaluationMemoization) {\n                return fn(name, options);\n            }\n            const memoKey = (0, MemoKey_1.createMemoKey)(prefix, name, options);\n            if (!memoKey) {\n                return fn(name, options);\n            }\n            if (!(memoKey in this._memoCache)) {\n                if (Object.keys(this._memoCache).length >= MAX_MEMO_CACHE_SIZE) {\n                    this._memoCache = {};\n                }\n                this._memoCache[memoKey] = fn(name, options);\n            }\n            return this._memoCache[memoKey];\n        };\n    }\n}\nexports.StatsigClientBase = StatsigClientBase;\nfunction _assignGlobalInstance(sdkKey, client) {\n    var _a;\n    if ((0, SafeJs_1._isServerEnv)()) {\n        return;\n    }\n    const statsigGlobal = (0, __StatsigGlobal_1._getStatsigGlobal)();\n    const instances = (_a = statsigGlobal.instances) !== null && _a !== void 0 ? _a : {};\n    const inst = client;\n    if (instances[sdkKey] != null) {\n        Log_1.Log.warn('Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys.');\n    }\n    instances[sdkKey] = inst;\n    if (!statsigGlobal.firstInstance) {\n        statsigGlobal.firstInstance = inst;\n    }\n    statsigGlobal.instances = instances;\n    __STATSIG__ = statsigGlobal;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}