{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.UrlConfiguration = void 0;\nconst Hashing_1 = require(\"./Hashing\");\nconst NetworkConfig_1 = require(\"./NetworkConfig\");\nconst ENDPOINT_DNS_KEY_MAP = {\n  [NetworkConfig_1.Endpoint._initialize]: 'i',\n  [NetworkConfig_1.Endpoint._rgstr]: 'e',\n  [NetworkConfig_1.Endpoint._download_config_specs]: 'd'\n};\nclass UrlConfiguration {\n  constructor(endpoint, customUrl, customApi, fallbackUrls) {\n    this.customUrl = null;\n    this.fallbackUrls = null;\n    this.endpoint = endpoint;\n    this.endpointDnsKey = ENDPOINT_DNS_KEY_MAP[endpoint];\n    if (customUrl) {\n      this.customUrl = customUrl;\n    }\n    if (!customUrl && customApi) {\n      this.customUrl = customApi.endsWith('/') ? `${customApi}${endpoint}` : `${customApi}/${endpoint}`;\n    }\n    if (fallbackUrls) {\n      this.fallbackUrls = fallbackUrls;\n    }\n    const defaultApi = NetworkConfig_1.NetworkDefault[endpoint];\n    this.defaultUrl = `${defaultApi}/${endpoint}`;\n  }\n  getUrl() {\n    var _a;\n    return (_a = this.customUrl) !== null && _a !== void 0 ? _a : this.defaultUrl;\n  }\n  getChecksum() {\n    var _a;\n    const fallbacks = ((_a = this.fallbackUrls) !== null && _a !== void 0 ? _a : []).sort().join(',');\n    return (0, Hashing_1._DJB2)(this.customUrl + fallbacks);\n  }\n}\nexports.UrlConfiguration = UrlConfiguration;","map":{"version":3,"names":["Object","defineProperty","exports","value","UrlConfiguration","Hashing_1","require","NetworkConfig_1","ENDPOINT_DNS_KEY_MAP","Endpoint","_initialize","_rgstr","_download_config_specs","constructor","endpoint","customUrl","customApi","fallbackUrls","endpointDnsKey","endsWith","defaultApi","NetworkDefault","defaultUrl","getUrl","_a","getChecksum","fallbacks","sort","join","_DJB2"],"sources":["/Users/sidiq/Documents/OptiviseWeb/node_modules/@statsig/client-core/src/UrlConfiguration.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UrlConfiguration = void 0;\nconst Hashing_1 = require(\"./Hashing\");\nconst NetworkConfig_1 = require(\"./NetworkConfig\");\nconst ENDPOINT_DNS_KEY_MAP = {\n    [NetworkConfig_1.Endpoint._initialize]: 'i',\n    [NetworkConfig_1.Endpoint._rgstr]: 'e',\n    [NetworkConfig_1.Endpoint._download_config_specs]: 'd',\n};\nclass UrlConfiguration {\n    constructor(endpoint, customUrl, customApi, fallbackUrls) {\n        this.customUrl = null;\n        this.fallbackUrls = null;\n        this.endpoint = endpoint;\n        this.endpointDnsKey = ENDPOINT_DNS_KEY_MAP[endpoint];\n        if (customUrl) {\n            this.customUrl = customUrl;\n        }\n        if (!customUrl && customApi) {\n            this.customUrl = customApi.endsWith('/')\n                ? `${customApi}${endpoint}`\n                : `${customApi}/${endpoint}`;\n        }\n        if (fallbackUrls) {\n            this.fallbackUrls = fallbackUrls;\n        }\n        const defaultApi = NetworkConfig_1.NetworkDefault[endpoint];\n        this.defaultUrl = `${defaultApi}/${endpoint}`;\n    }\n    getUrl() {\n        var _a;\n        return (_a = this.customUrl) !== null && _a !== void 0 ? _a : this.defaultUrl;\n    }\n    getChecksum() {\n        var _a;\n        const fallbacks = ((_a = this.fallbackUrls) !== null && _a !== void 0 ? _a : []).sort().join(',');\n        return (0, Hashing_1._DJB2)(this.customUrl + fallbacks);\n    }\n}\nexports.UrlConfiguration = UrlConfiguration;\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,gBAAgB,GAAG,KAAK,CAAC;AACjC,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAW,CAAC;AACtC,MAAMC,eAAe,GAAGD,OAAO,CAAC,iBAAiB,CAAC;AAClD,MAAME,oBAAoB,GAAG;EACzB,CAACD,eAAe,CAACE,QAAQ,CAACC,WAAW,GAAG,GAAG;EAC3C,CAACH,eAAe,CAACE,QAAQ,CAACE,MAAM,GAAG,GAAG;EACtC,CAACJ,eAAe,CAACE,QAAQ,CAACG,sBAAsB,GAAG;AACvD,CAAC;AACD,MAAMR,gBAAgB,CAAC;EACnBS,WAAWA,CAACC,QAAQ,EAAEC,SAAS,EAAEC,SAAS,EAAEC,YAAY,EAAE;IACtD,IAAI,CAACF,SAAS,GAAG,IAAI;IACrB,IAAI,CAACE,YAAY,GAAG,IAAI;IACxB,IAAI,CAACH,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACI,cAAc,GAAGV,oBAAoB,CAACM,QAAQ,CAAC;IACpD,IAAIC,SAAS,EAAE;MACX,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC9B;IACA,IAAI,CAACA,SAAS,IAAIC,SAAS,EAAE;MACzB,IAAI,CAACD,SAAS,GAAGC,SAAS,CAACG,QAAQ,CAAC,GAAG,CAAC,GAClC,GAAGH,SAAS,GAAGF,QAAQ,EAAE,GACzB,GAAGE,SAAS,IAAIF,QAAQ,EAAE;IACpC;IACA,IAAIG,YAAY,EAAE;MACd,IAAI,CAACA,YAAY,GAAGA,YAAY;IACpC;IACA,MAAMG,UAAU,GAAGb,eAAe,CAACc,cAAc,CAACP,QAAQ,CAAC;IAC3D,IAAI,CAACQ,UAAU,GAAG,GAAGF,UAAU,IAAIN,QAAQ,EAAE;EACjD;EACAS,MAAMA,CAAA,EAAG;IACL,IAAIC,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACT,SAAS,MAAM,IAAI,IAAIS,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,IAAI,CAACF,UAAU;EACjF;EACAG,WAAWA,CAAA,EAAG;IACV,IAAID,EAAE;IACN,MAAME,SAAS,GAAG,CAAC,CAACF,EAAE,GAAG,IAAI,CAACP,YAAY,MAAM,IAAI,IAAIO,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE,EAAEG,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;IACjG,OAAO,CAAC,CAAC,EAAEvB,SAAS,CAACwB,KAAK,EAAE,IAAI,CAACd,SAAS,GAAGW,SAAS,CAAC;EAC3D;AACJ;AACAxB,OAAO,CAACE,gBAAgB,GAAGA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}